/*! For license information please see procGen.worker.0b63992a.worker.js.LICENSE.txt */
!function(){var e={189:function(e,t,n){var i=n(4687),r=n(7424).default,o=n(4704).default,a=n(861).default,s=n(6690).default,h=n(9728).default,u=function(e){try{return Object(function(){var e=new Error("Cannot find module 'perf_hooks'");throw e.code="MODULE_NOT_FOUND",e}())}catch(t){return e}}(Date).now,c=function(e){return e&&e===Math.floor(e)&&e>0&&isFinite(e)},l=function(e){"use strict";function t(e){var n=e.max,i=void 0===n?1/0:n,r=e.ttl,o=e.updateAgeOnGet,a=void 0!==o&&o,h=e.noUpdateTTL,u=void 0!==h&&h,l=e.dispose;if(s(this,t),this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==r&&!c(r))throw new TypeError("ttl must be positive integer if set");if(!c(i)&&i!==1/0)throw new TypeError("max must be positive integer or Infinity");if(this.ttl=r,this.max=i,this.updateAgeOnGet=a,this.noUpdateTTL=u,void 0!==l){if("function"!==typeof l)throw new TypeError("dispose must be function if set");this.dispose=l}}return h(t,[{key:"clear",value:function(){var e=this.dispose!==t.prototype.dispose?a(this):[];this.data.clear(),this.expirationMap.clear(),this.expirations=Object.create(null);var n,i=o(e);try{for(i.s();!(n=i.n()).done;){var s=r(n.value,2),h=s[0],u=s[1];this.dispose(u,h,"delete")}}catch(c){i.e(c)}finally{i.f()}}},{key:"set",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.ttl,o=void 0===r?this.ttl:r,a=i.noUpdateTTL,s=void 0===a?this.noUpdateTTL:a,h=i.noDisposeOnSet,l=void 0===h?this.noDisposeOnSet:h;if(!c(o))throw new TypeError("ttl must be positive integer");var f=this.expirationMap.get(e),d=u(),p=void 0===f?void 0:this.data.get(e);if(void 0!==f){if(s&&f>d)return p!==t&&(this.data.set(e,t),l||this.dispose(p,e,"set")),this;var v=this.expirations[f];!v||v.length<=1?delete this.expirations[f]:this.expirations[f]=v.filter((function(t){return t!==e}))}var g=Math.ceil(d+o);if(this.expirationMap.set(e,g),this.data.set(e,t),!this.expirations[g]){var m=setTimeout((function(){return n.purgeStale()}),o);m.unref&&m.unref(),this.expirations[g]=[]}for(this.expirations[g].push(e);this.size>this.max;)this.purgeToCapacity();return!l&&f&&p!==t&&this.dispose(p,e,"set"),this}},{key:"has",value:function(e){return this.data.has(e)}},{key:"getRemainingTTL",value:function(e){var t=this.expirationMap.get(e);return void 0!==t?Math.max(0,t-u()):0}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateAgeOnGet,i=void 0===n?this.updateAgeOnGet:n,r=t.ttl,o=void 0===r?this.ttl:r,a=this.data.get(e);return i&&this.set(e,a,{noUpdateTTL:!1,noDisposeOnSet:!0,ttl:o}),a}},{key:"dispose",value:function(e,t){}},{key:"delete",value:function(e){var t=this.expirationMap.get(e);if(void 0!==t){var n=this.data.get(e);this.data.delete(e),this.expirationMap.delete(e);var i=this.expirations[t];return i&&i.length<=1?delete this.expirations[t]:this.expirations[t]=i.filter((function(t){return t!==e})),this.dispose(n,e,"delete"),!0}return!1}},{key:"purgeToCapacity",value:function(){for(var e in this.expirations){var t=this.expirations[e];if(this.size-t.length>=this.max){var n,i=o(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=this.data.get(r);this.data.delete(r),this.expirationMap.delete(r),this.dispose(a,r,"evict")}}catch(f){i.e(f)}finally{i.f()}delete this.expirations[e]}else{var s,h=this.size-this.max,u=o(t.splice(0,h));try{for(u.s();!(s=u.n()).done;){var c=s.value,l=this.data.get(c);this.data.delete(c),this.expirationMap.delete(c),this.dispose(l,c,"evict")}}catch(f){u.e(f)}finally{u.f()}}return}}},{key:"size",get:function(){return this.data.size}},{key:"purgeStale",value:function(){var e=u();for(var t in this.expirations){if(t>e)return;var n,i=o(this.expirations[t]);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=this.data.get(r);this.data.delete(r),this.expirationMap.delete(r),this.dispose(a,r,"stale")}}catch(s){i.e(s)}finally{i.f()}delete this.expirations[t]}}},{key:"entries",value:i.mark((function e(){var t,n,r,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i.keys(this.expirations);case 1:if((e.t1=e.t0()).done){e.next=22;break}t=e.t1.value,n=o(this.expirations[t]),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=12;break}return a=r.value,e.next=10,[a,this.data.get(a)];case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t2=e.catch(4),n.e(e.t2);case 17:return e.prev=17,n.f(),e.finish(17);case 20:e.next=1;break;case 22:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:"keys",value:i.mark((function e(){var t,n,r,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i.keys(this.expirations);case 1:if((e.t1=e.t0()).done){e.next=22;break}t=e.t1.value,n=o(this.expirations[t]),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=12;break}return a=r.value,e.next=10,a;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t2=e.catch(4),n.e(e.t2);case 17:return e.prev=17,n.f(),e.finish(17);case 20:e.next=1;break;case 22:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:"values",value:i.mark((function e(){var t,n,r,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i.keys(this.expirations);case 1:if((e.t1=e.t0()).done){e.next=22;break}t=e.t1.value,n=o(this.expirations[t]),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=12;break}return a=r.value,e.next=10,this.data.get(a);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t2=e.catch(4),n.e(e.t2);case 17:return e.prev=17,n.f(),e.finish(17);case 20:e.next=1;break;case 22:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))},{key:e,value:function(){return this.entries()}}]),t}(Symbol.iterator);e.exports=l},2470:function(e,t){"use strict";t.byteLength=function(e){var t=h(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,o=h(e),a=o[0],s=o[1],u=new r(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,l=s>0?a-4:a;for(n=0;n<l;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],a=16383,s=0,h=i-r;s<h;s+=a)o.push(u(e,s,s+a>h?h:s+a));1===r?(t=e[i-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function h(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,i){for(var r,o,a=[],s=t;s<i;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},918:function(e,t,n){"use strict";var i=n(2470),r=n(545),o=n(7146);function a(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=h.prototype:(null===e&&(e=new h(t)),e.length=t),e}function h(e,t,n){if(!h.TYPED_ARRAY_SUPPORT&&!(this instanceof h))return new h(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);h.TYPED_ARRAY_SUPPORT?(e=t).__proto__=h.prototype:e=f(e,t);return e}(e,t,n,i):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!h.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(h.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(i=t.length)!==i?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!h.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(h.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return H(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function m(e,t,n,i,r){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=h.from(t,i)),h.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"===typeof t)return t&=255,h.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o,a=1,s=e.length,h=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,h/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===h)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+h>s&&(n=s-h),o=n;o>=0;o--){for(var l=!0,f=0;f<h;f++)if(u(e,o+f)!==u(t,f)){l=!1;break}if(l)return o}return-1}function b(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,i){return U(H(t,e.length-n),e,n,i)}function k(e,t,n,i){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function C(e,t,n,i){return k(e,t,n,i)}function S(e,t,n,i){return U(q(t),e,n,i)}function _(e,t,n,i){return U(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function x(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function M(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,h,u=e[r],c=null,l=u>239?4:u>223?3:u>191?2:1;if(r+l<=n)switch(l){case 1:u<128&&(c=u);break;case 2:128===(192&(o=e[r+1]))&&(h=(31&u)<<6|63&o)>127&&(c=h);break;case 3:o=e[r+1],a=e[r+2],128===(192&o)&&128===(192&a)&&(h=(15&u)<<12|(63&o)<<6|63&a)>2047&&(h<55296||h>57343)&&(c=h);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(h=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&h<1114112&&(c=h)}null===c?(c=65533,l=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=l}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=P));return n}(i)}t.Buffer=h,t.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},t.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),h.poolSize=8192,h._augment=function(e){return e.__proto__=h.prototype,e},h.from=function(e,t,n){return u(null,e,t,n)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(e,t,n){return function(e,t,n,i){return c(t),t<=0?s(e,t):void 0!==n?"string"===typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},h.allocUnsafe=function(e){return l(null,e)},h.allocUnsafeSlow=function(e){return l(null,e)},h.isBuffer=function(e){return!(null==e||!e._isBuffer)},h.compare=function(e,t){if(!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=h.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!h.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},h.byteLength=p,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},h.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):v.apply(this,arguments)},h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},h.prototype.compare=function(e,t,n,i,r){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(i,r),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},h.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},h.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},h.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function R(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function A(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=z(e[o]);return r}function E(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,i,r,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function B(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function D(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function I(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,i,o){return o||I(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function F(e,t,n,i,o){return o||I(e,0,n,8),r.write(e,t,n,i,52,8),n+8}h.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),h.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=h.prototype;else{var r=t-e;n=new h(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},h.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},h.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},h.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},h.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},h.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},h.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},h.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},h.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},h.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},h.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},h.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},h.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},h.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},h.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},h.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},h.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},h.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},h.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},h.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},h.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},h.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=h.isBuffer(e)?e:H(new h(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function U(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}},8041:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,i=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,a,u;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=h(e))>0&&a.length>r&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=c.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"===typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var h=o[e];if(void 0===h)return!1;if("function"===typeof h)i(h,this,t);else{var u=h.length,c=p(h,u);for(n=0;n<u;++n)i(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,r,o,a;if(s(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9834:function(e,t,n){"use strict";var i=n(2582).Buffer,r=n(1881).Transform;function o(e){r.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(273)(o,r),o.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(r){i=r}n(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!i.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},2582:function(e,t,n){var i=n(918),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"===typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},545:function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,h=(1<<s)-1,u=h>>1,c=-7,l=n?r-1:0,f=n?-1:1,d=e[t+l];for(l+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+l],l+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+l],l+=f,c-=8);if(0===o)o=1-u;else{if(o===h)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),o-=u}return(d?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,h,u=8*o-r-1,c=(1<<u)-1,l=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-a))<1&&(a--,h*=2),(t+=a+l>=1?f/h:f*Math.pow(2,1-l))*h>=2&&(a++,h/=2),a+l>=c?(s=0,a=c):a+l>=1?(s=(t*h-1)*Math.pow(2,r),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,r),a=0));r>=8;e[n+d]=255&s,d+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*v}},273:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},379:function(e){"use strict";e.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},3110:function(e){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},7146:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},1075:function(e,t,n){"use strict";var i=n(273),r=n(9834),o=n(5734).Buffer,a=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function h(e,t){return e<<t|e>>>32-t}function u(e,t,n,i,r,o,a){return h(e+(t&n|~t&i)+r+o|0,a)+t|0}function c(e,t,n,i,r,o,a){return h(e+(t&i|n&~i)+r+o|0,a)+t|0}function l(e,t,n,i,r,o,a){return h(e+(t^n^i)+r+o|0,a)+t|0}function f(e,t,n,i,r,o,a){return h(e+(n^(t|~i))+r+o|0,a)+t|0}i(s,r),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,o=this._d;n=u(n,i,r,o,e[0],3614090360,7),o=u(o,n,i,r,e[1],3905402710,12),r=u(r,o,n,i,e[2],606105819,17),i=u(i,r,o,n,e[3],3250441966,22),n=u(n,i,r,o,e[4],4118548399,7),o=u(o,n,i,r,e[5],1200080426,12),r=u(r,o,n,i,e[6],2821735955,17),i=u(i,r,o,n,e[7],4249261313,22),n=u(n,i,r,o,e[8],1770035416,7),o=u(o,n,i,r,e[9],2336552879,12),r=u(r,o,n,i,e[10],4294925233,17),i=u(i,r,o,n,e[11],2304563134,22),n=u(n,i,r,o,e[12],1804603682,7),o=u(o,n,i,r,e[13],4254626195,12),r=u(r,o,n,i,e[14],2792965006,17),n=c(n,i=u(i,r,o,n,e[15],1236535329,22),r,o,e[1],4129170786,5),o=c(o,n,i,r,e[6],3225465664,9),r=c(r,o,n,i,e[11],643717713,14),i=c(i,r,o,n,e[0],3921069994,20),n=c(n,i,r,o,e[5],3593408605,5),o=c(o,n,i,r,e[10],38016083,9),r=c(r,o,n,i,e[15],3634488961,14),i=c(i,r,o,n,e[4],3889429448,20),n=c(n,i,r,o,e[9],568446438,5),o=c(o,n,i,r,e[14],3275163606,9),r=c(r,o,n,i,e[3],4107603335,14),i=c(i,r,o,n,e[8],1163531501,20),n=c(n,i,r,o,e[13],2850285829,5),o=c(o,n,i,r,e[2],4243563512,9),r=c(r,o,n,i,e[7],1735328473,14),n=l(n,i=c(i,r,o,n,e[12],2368359562,20),r,o,e[5],4294588738,4),o=l(o,n,i,r,e[8],2272392833,11),r=l(r,o,n,i,e[11],1839030562,16),i=l(i,r,o,n,e[14],4259657740,23),n=l(n,i,r,o,e[1],2763975236,4),o=l(o,n,i,r,e[4],1272893353,11),r=l(r,o,n,i,e[7],4139469664,16),i=l(i,r,o,n,e[10],3200236656,23),n=l(n,i,r,o,e[13],681279174,4),o=l(o,n,i,r,e[0],3936430074,11),r=l(r,o,n,i,e[3],3572445317,16),i=l(i,r,o,n,e[6],76029189,23),n=l(n,i,r,o,e[9],3654602809,4),o=l(o,n,i,r,e[12],3873151461,11),r=l(r,o,n,i,e[15],530742520,16),n=f(n,i=l(i,r,o,n,e[2],3299628645,23),r,o,e[0],4096336452,6),o=f(o,n,i,r,e[7],1126891415,10),r=f(r,o,n,i,e[14],2878612391,15),i=f(i,r,o,n,e[5],4237533241,21),n=f(n,i,r,o,e[12],1700485571,6),o=f(o,n,i,r,e[3],2399980690,10),r=f(r,o,n,i,e[10],4293915773,15),i=f(i,r,o,n,e[1],2240044497,21),n=f(n,i,r,o,e[8],1873313359,6),o=f(o,n,i,r,e[15],4264355552,10),r=f(r,o,n,i,e[6],2734768916,15),i=f(i,r,o,n,e[13],1309151649,21),n=f(n,i,r,o,e[4],4149444226,6),o=f(o,n,i,r,e[11],3174756917,10),r=f(r,o,n,i,e[2],718787259,15),i=f(i,r,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},3357:function(e){e.exports=function(e,t){t=t||2;for(var n=2*(e=e||1)+1,i=Math.pow(n,t)-1,r=new Array(i),o=0;o<i;o++)for(var a=r[o]=new Array(t),s=o<i/2?o:o+1,h=1;h<=t;h++){var u=s%Math.pow(n,h);a[h-1]=u/Math.pow(n,h-1)-e,s-=u}return r}},7786:function(e,t,n){var i=n(379),r=n(3110),o="undefined"!==typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var i=new Array(n.length);for(e=0;e<i.length;++e)i[e]=n[e][1];return i}function h(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var r="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t){o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",o)(u[e][0])}o=["'use strict'"];var a=i(t),h=a.map((function(e){return"i"+e})),c="this.offset+"+a.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),l=a.map((function(e){return"b"+e})).join(","),f=a.map((function(e){return"c"+e})).join(",");o.push("function "+n+"(a,"+l+","+f+",d){this.data=a","this.shape=["+l+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+h.join(",")+",v){"),r?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+h.join(",")+"){"),r?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",h.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+h.join(",")+"){return new "+n+"(this.data,"+a.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+a.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var d=a.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=a.map((function(e){return"c"+e+"=this.stride["+e+"]"}));o.push("proto.lo=function "+n+"_lo("+h.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"c"+e})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+h.join(",")+"){var "+a.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+a.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"b"+e})).join(",")+",c)}");var g=new Array(t),m=new Array(t);for(v=0;v<t;++v)g[v]="a[i"+v+"]",m[v]="b[i"+v+"]";o.push("proto.transpose=function "+n+"_transpose("+h+"){"+h.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+m.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+h+"){var a=[],b=[],c=this.offset");for(v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(e){return"shape["+e+"]"})).join(",")+","+a.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(u[e],s)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};e.exports=function(e,t,n,i){if(void 0===e)return(0,u.array[0])([]);"number"===typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var s=a-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===i){i=0;for(s=0;s<a;++s)n[s]<0&&(i-=(t[s]-1)*n[s])}for(var l=function(e){if(r(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}(e),f=u[l];f.length<=a+1;)f.push(h(l,f.length-1));return(0,f[a+1])(e,t,n,i)}},3555:function(e,t,n){"use strict";var i=n(1159).integer,r=n(1677),o=n(9847);function a(e,t){for(var n=0,i=0;i<e.length;i++)n+=Math.pow(e[i]-t[i],2);return n}function s(e,t){if("function"===typeof e.distanceFunction)throw new Error("PoissonDiskSampling: Tried to instantiate the fixed density implementation with a distanceFunction");this.shape=e.shape,this.minDistance=e.minDistance,this.maxDistance=e.maxDistance||2*e.minDistance,this.maxTries=Math.ceil(Math.max(1,e.tries||30)),this.rng=t||Math.random,this.dimension=this.shape.length,this.squaredMinDistance=this.minDistance*this.minDistance,this.minDistancePlusEpsilon=this.minDistance+2e-14,this.deltaDistance=Math.max(0,this.maxDistance-this.minDistancePlusEpsilon),this.cellSize=this.minDistance/Math.sqrt(this.dimension),this.neighbourhood=o(this.dimension),this.currentPoint=null,this.processList=[],this.samplePoints=[],this.gridShape=[];for(var n=0;n<this.dimension;n++)this.gridShape.push(Math.ceil(this.shape[n]/this.cellSize));this.grid=i(this.gridShape)}s.prototype.shape=null,s.prototype.dimension=null,s.prototype.minDistance=null,s.prototype.maxDistance=null,s.prototype.minDistancePlusEpsilon=null,s.prototype.squaredMinDistance=null,s.prototype.deltaDistance=null,s.prototype.cellSize=null,s.prototype.maxTries=null,s.prototype.rng=null,s.prototype.neighbourhood=null,s.prototype.currentPoint=null,s.prototype.processList=null,s.prototype.samplePoints=null,s.prototype.gridShape=null,s.prototype.grid=null,s.prototype.addRandomPoint=function(){for(var e=new Array(this.dimension),t=0;t<this.dimension;t++)e[t]=this.rng()*this.shape[t];return this.directAddPoint(e)},s.prototype.addPoint=function(e){var t,n=!0;if(e.length===this.dimension)for(t=0;t<this.dimension&&n;t++)n=e[t]>=0&&e[t]<=this.shape[t];else n=!1;return n?this.directAddPoint(e):null},s.prototype.directAddPoint=function(e){var t,n=0,i=this.grid.stride;for(this.processList.push(e),this.samplePoints.push(e),t=0;t<this.dimension;t++)n+=(e[t]/this.cellSize|0)*i[t];return this.grid.data[n]=this.samplePoints.length,e},s.prototype.inNeighbourhood=function(e){var t,n,i,r,o=this.dimension,s=this.grid.stride;for(t=0;t<this.neighbourhood.length;t++){for(n=0,i=0;i<o;i++){if((r=(e[i]/this.cellSize|0)+this.neighbourhood[t][i])<0||r>=this.gridShape[i]){n=-1;break}n+=r*s[i]}if(-1!==n&&0!==this.grid.data[n]&&a(e,this.samplePoints[this.grid.data[n]-1])<this.squaredMinDistance)return!0}return!1},s.prototype.next=function(){for(var e,t,n,i,o,a,s;this.processList.length>0;){for(null===this.currentPoint&&(this.currentPoint=this.processList.shift()),i=this.currentPoint,e=0;e<this.maxTries;e++){for(a=!0,n=this.minDistancePlusEpsilon+this.deltaDistance*this.rng(),2===this.dimension?(t=this.rng()*Math.PI*2,o=[Math.cos(t),Math.sin(t)]):o=r(this.dimension,this.rng),s=0;a&&s<this.dimension;s++)o[s]=i[s]+o[s]*n,a=o[s]>=0&&o[s]<this.shape[s];if(a&&!this.inNeighbourhood(o))return this.directAddPoint(o)}e===this.maxTries&&(this.currentPoint=null)}return null},s.prototype.fill=function(){for(0===this.samplePoints.length&&this.addRandomPoint();this.next(););return this.samplePoints},s.prototype.getAllPoints=function(){return this.samplePoints},s.prototype.getAllPointsWithDistance=function(){throw new Error("PoissonDiskSampling: getAllPointsWithDistance() is not available in fixed-density implementation")},s.prototype.reset=function(){var e=this.grid.data,t=0;for(t=0;t<e.length;t++)e[t]=0;this.samplePoints=[],this.currentPoint=null,this.processList.length=0},e.exports=s},8966:function(e,t,n){"use strict";var i=n(1159).array,r=n(1677),o=n(9847);function a(e,t){for(var n=0,i=0;i<e.length;i++)n+=Math.pow(e[i]-t[i],2);return Math.sqrt(n)}function s(e,t){if("function"!==typeof e.distanceFunction)throw new Error("PoissonDiskSampling: Tried to instantiate the variable density implementation without a distanceFunction");this.shape=e.shape,this.minDistance=e.minDistance,this.maxDistance=e.maxDistance||2*e.minDistance,this.maxTries=Math.ceil(Math.max(1,e.tries||30)),this.distanceFunction=e.distanceFunction,this.bias=Math.max(0,Math.min(1,e.bias||0)),this.rng=t||Math.random,this.dimension=this.shape.length,this.minDistancePlusEpsilon=this.minDistance+2e-14,this.deltaDistance=Math.max(0,this.maxDistance-this.minDistancePlusEpsilon),this.cellSize=this.maxDistance/Math.sqrt(this.dimension),this.neighbourhood=o(this.dimension),this.currentPoint=null,this.currentDistance=0,this.processList=[],this.samplePoints=[],this.sampleDistance=[],this.gridShape=[];for(var n=0;n<this.dimension;n++)this.gridShape.push(Math.ceil(this.shape[n]/this.cellSize));this.grid=i(this.gridShape)}s.prototype.shape=null,s.prototype.dimension=null,s.prototype.minDistance=null,s.prototype.maxDistance=null,s.prototype.minDistancePlusEpsilon=null,s.prototype.deltaDistance=null,s.prototype.cellSize=null,s.prototype.maxTries=null,s.prototype.distanceFunction=null,s.prototype.bias=null,s.prototype.rng=null,s.prototype.neighbourhood=null,s.prototype.currentPoint=null,s.prototype.currentDistance=null,s.prototype.processList=null,s.prototype.samplePoints=null,s.prototype.sampleDistance=null,s.prototype.gridShape=null,s.prototype.grid=null,s.prototype.addRandomPoint=function(){for(var e=new Array(this.dimension),t=0;t<this.dimension;t++)e[t]=this.rng()*this.shape[t];return this.directAddPoint(e)},s.prototype.addPoint=function(e){var t,n=!0;if(e.length===this.dimension)for(t=0;t<this.dimension&&n;t++)n=e[t]>=0&&e[t]<=this.shape[t];else n=!1;return n?this.directAddPoint(e):null},s.prototype.directAddPoint=function(e){var t,n=0,i=this.grid.stride,r=this.samplePoints.length;for(this.processList.push(r),this.samplePoints.push(e),this.sampleDistance.push(this.distanceFunction(e)),t=0;t<this.dimension;t++)n+=(e[t]/this.cellSize|0)*i[t];return this.grid.data[n].push(r),e},s.prototype.inNeighbourhood=function(e){var t,n,i,r,o,s,h=this.dimension,u=this.grid.stride,c=this.distanceFunction(e);for(t=0;t<this.neighbourhood.length;t++){for(n=0,i=0;i<h;i++){if((r=(e[i]/this.cellSize|0)+this.neighbourhood[t][i])<0||r>=this.gridShape[i]){n=-1;break}n+=r*u[i]}if(-1!==n&&this.grid.data[n].length>0)for(var l=0;l<this.grid.data[n].length;l++){o=this.samplePoints[this.grid.data[n][l]],s=this.sampleDistance[this.grid.data[n][l]];var f=Math.min(s,c),d=f+(Math.max(s,c)-f)*this.bias;if(a(e,o)<this.minDistance+this.deltaDistance*d)return!0}}return!1},s.prototype.next=function(){for(var e,t,n,i,o,a,s,h;this.processList.length>0;){if(null===this.currentPoint){var u=this.processList.shift();this.currentPoint=this.samplePoints[u],this.currentDistance=this.sampleDistance[u]}for(i=this.currentPoint,o=this.currentDistance,e=0;e<this.maxTries;e++){for(s=!0,n=this.minDistancePlusEpsilon+this.deltaDistance*(o+(1-o)*this.bias),2===this.dimension?(t=this.rng()*Math.PI*2,a=[Math.cos(t),Math.sin(t)]):a=r(this.dimension,this.rng),h=0;s&&h<this.dimension;h++)a[h]=i[h]+a[h]*n,s=a[h]>=0&&a[h]<this.shape[h];if(s&&!this.inNeighbourhood(a))return this.directAddPoint(a)}e===this.maxTries&&(this.currentPoint=null)}return null},s.prototype.fill=function(){for(0===this.samplePoints.length&&this.addRandomPoint();this.next(););return this.samplePoints},s.prototype.getAllPoints=function(){return this.samplePoints},s.prototype.getAllPointsWithDistance=function(){var e,t=new Array(this.samplePoints.length),n=0,i=0;for(n=0;n<this.samplePoints.length;n++){for(e=new Array(this.dimension+1),i=0;i<this.dimension;i++)e[i]=this.samplePoints[n][i];e[this.dimension]=this.sampleDistance[n],t[n]=e}return t},s.prototype.reset=function(){var e=this.grid.data,t=0;for(t=0;t<e.length;t++)e[t]=[];this.samplePoints=[],this.currentPoint=null,this.processList.length=0},e.exports=s},9847:function(e,t,n){"use strict";var i=n(3357);var r={};e.exports=function(e){return r[e]||(r[e]=function(e){var t,n=i(2,e),r=[];for(n=n.filter((function(t){for(var n=0,i=0;i<e;i++)n+=Math.pow(Math.max(0,Math.abs(t[i])-1),2);return n<e})),t=0;t<e;t++)r.push(0);return n.push(r),n.sort((function(t,n){var i,r=0,o=0;for(i=0;i<e;i++)r+=Math.pow(t[i],2),o+=Math.pow(n[i],2);return r<o?-1:r>o?1:0})),n}(e)),r[e]}},8915:function(e,t,n){"use strict";var i=n(3555),r=n(8966);function o(e,t){this.shape=e.shape,"function"===typeof e.distanceFunction?this.implementation=new r(e,t):this.implementation=new i(e,t)}o.prototype.implementation=null,o.prototype.addRandomPoint=function(){return this.implementation.addRandomPoint()},o.prototype.addPoint=function(e){return this.implementation.addPoint(e)},o.prototype.next=function(){return this.implementation.next()},o.prototype.fill=function(){return this.implementation.fill()},o.prototype.getAllPoints=function(){return this.implementation.getAllPoints()},o.prototype.getAllPointsWithDistance=function(){return this.implementation.getAllPointsWithDistance()},o.prototype.reset=function(){this.implementation.reset()},e.exports=o},1677:function(e){"use strict";e.exports=function(e,t){var n,i,r,o,a,s=new Array(e),h=Math.floor(e/2)<<1,u=0;for(a=0;a<h;a+=2)n=-2*Math.log(t()),i=Math.sqrt(n),r=2*Math.PI*t(),u+=n,s[a]=i*Math.cos(r),s[a+1]=i*Math.sin(r);if(e%2){var c=Math.sqrt(-2*Math.log(t()))*Math.cos(2*Math.PI*t());s[e-1]=c,u+=Math.pow(c,2)}for(o=1/Math.sqrt(u),a=0;a<e;++a)s[a]*=o;return s}},1159:function(e){"use strict";e.exports={integer:function(e){var t,n=e.length,i=1,r=new Array(n);for(t=n;t>0;t--)r[t-1]=i,i*=e[t-1];return{stride:r,data:new Uint32Array(i)}},array:function(e){var t,n,i=e.length,r=1,o=new Array(i),a=[];for(t=i;t>0;t--)o[t-1]=r,r*=e[t-1];for(n=0;n<r;n++)a.push([]);return{stride:o,data:a}}}},1092:function(e){"use strict";var t={};function n(e,n,i){i||(i=Error);var r=function(e){var t,i;function r(t,i,r){return e.call(this,function(e,t,i){return"string"===typeof n?n:n(e,t,i)}(t,i,r))||this}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,r}(i);r.prototype.name=i.name,r.prototype.code=e,t[e]=r}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,o,a,s;if("string"===typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var h=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(h," ").concat(r," ").concat(i(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6085:function(e,t,n){"use strict";var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var r=n(6405),o=n(7423);n(273)(u,r);for(var a=i(o.prototype),s=0;s<a.length;s++){var h=a[s];u.prototype[h]||(u.prototype[h]=o.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||process.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},9543:function(e,t,n){"use strict";e.exports=r;var i=n(4917);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}n(273)(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},6405:function(e,t,n){"use strict";var i;e.exports=_,_.ReadableState=S;n(8041).EventEmitter;var r=function(e,t){return e.listeners(t).length},o=n(8747),a=n(918).Buffer,s=n.g.Uint8Array||function(){};var h,u=n(4616);h=u&&u.debuglog?u.debuglog("stream"):function(){};var c,l,f,d=n(5489),p=n(6617),v=n(5999).getHighWaterMark,g=n(1092).q,m=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(273)(_,o);var k=p.errorOrDestroy,C=["error","close","destroy","pause","resume"];function S(e,t,r){i=i||n(6085),e=e||{},"boolean"!==typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=n(8570).s),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function _(e){if(i=i||n(6085),!(this instanceof _))return new _(e);var t=this instanceof i;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,n,i,r){h("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(h("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(r||(o=function(e,t){var n;i=t,a.isBuffer(i)||i instanceof s||"string"===typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t));var i;return n}(u,t)),o)k(e,o);else if(u.objectMode||t&&t.length>0)if("string"===typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),i)u.endEmitted?k(e,new w):M(e,u,t,!0);else if(u.ended)k(e,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?M(e,u,t,!1):E(e,u)):M(e,u,t,!1)}else i||(u.reading=!1,E(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function M(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),E(e,t)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=p.destroy,_.prototype._undestroy=p.undestroy,_.prototype._destroy=function(e,t){t(e)},_.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"===typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=a.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},_.prototype.unshift=function(e){return x(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){c||(c=n(8570).s);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var P=1073741824;function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;h("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;h("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,I(e)}function E(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(h("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){h("readable nexttick read 0"),e.read(0)}function D(e,t){h("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function F(e){var t=e._readableState;h("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(j,t,e))}function j(e,t){if(h("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function z(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):T(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&F(this),null;var i,r=t.needReadable;return h("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",r=!0),t.ended||t.reading?h("reading or ended",r=!1):r&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(n,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&F(this)),null!==i&&this.emit("data",i),i},_.prototype._read=function(e){k(this,new b("_read()"))},_.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:v;function a(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",v),n.removeListener("data",l),c=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function s(){h("onend"),e.end()}i.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",a);var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&r(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",u);var c=!1;function l(t){h("ondata");var r=e.write(t);h("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!c&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function f(t){h("onerror",t),v(),e.removeListener("error",f),0===r(e,"error")&&k(e,t)}function d(){e.removeListener("finish",p),v()}function p(){h("onfinish"),e.removeListener("close",d),v()}function v(){h("unpipe"),n.unpipe(e)}return n.on("data",l),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},_.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,h("on readable",i.length,i.reading),i.length?T(this):i.reading||process.nextTick(B,this))),n},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),n},_.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},_.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(D,e,t))}(this,e)),e.paused=!1,this},_.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(h("wrapped data"),n.decoder&&(r=n.decoder.write(r)),!n.objectMode||null!==r&&void 0!==r)&&((n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause())))})),e)void 0===this[r]&&"function"===typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){h("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"===typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=n(1218)),l(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),_._fromList=N,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(_.from=function(e,t){return void 0===f&&(f=n(7670)),f(_,e,t)})},4917:function(e,t,n){"use strict";e.exports=c;var i=n(1092).q,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,h=n(6085);function u(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);h.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(273)(c,h),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,h.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new r("_transform()"))},c.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){h.prototype._destroy.call(this,e,(function(e){t(e)}))}},7423:function(e,t,n){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var r;e.exports=_,_.WritableState=S;var o={deprecate:n(9043)},a=n(8747),s=n(918).Buffer,h=n.g.Uint8Array||function(){};var u,c=n(6617),l=n(5999).getHighWaterMark,f=n(1092).q,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,m=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,k=c.errorOrDestroy;function C(){}function S(e,t,o){r=r||n(6085),e=e||{},"boolean"!==typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if("function"!==typeof r)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(process.nextTick(r,i),process.nextTick(A,e,t),e._writableState.errorEmitted=!0,k(e,i)):(r(i),e._writableState.errorEmitted=!0,k(e,i),A(e,t))}(e,n,i,t,r);else{var o=R(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||P(e,n),i?process.nextTick(M,e,n,o,r):M(e,n,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function _(e){var t=this instanceof(r=r||n(6085));if(!t&&!u.call(_,this))return new _(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function x(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function M(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),A(e,t)}function P(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,h=!0;n;)o[s]=n,n.isBuf||(h=!1),n=n.next,s+=1;o.allBuffers=h,x(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,l=n.callback;if(x(e,t,!1,t.objectMode?1:u.length,u,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&k(e,n),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=R(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(273)(_,a),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===_&&(e&&e._writableState instanceof S)}})):u=function(e){return e instanceof this},_.prototype.pipe=function(){k(this,new g)},_.prototype.write=function(e,t,n){var i,r=this._writableState,o=!1,a=!r.objectMode&&(i=e,s.isBuffer(i)||i instanceof h);return a&&!s.isBuffer(e)&&(e=function(e){return s.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=C),r.ending?function(e,t){var n=new b;k(e,n),process.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var r;return null===n?r=new y:"string"===typeof n||t.objectMode||(r=new d("chunk",["string","Buffer"],n)),!r||(k(e,r),process.nextTick(i,r),!1)}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=s.from(t,n));return t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var h=t.objectMode?1:i.length;t.length+=h;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,h,i,r,o);return u}(this,r,a,e,t,n)),o},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new p("_write()"))},_.prototype._writev=null,_.prototype.end=function(e,t,n){var i=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=c.destroy,_.prototype._undestroy=c.undestroy,_.prototype._destroy=function(e,t){t(e)}},1218:function(e,t,n){"use strict";var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4297),a=Symbol("lastResolve"),s=Symbol("lastReject"),h=Symbol("error"),u=Symbol("ended"),c=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[f].read();null!==n&&(e[c]=null,e[a]=null,e[s]=null,t(d(n,!1)))}}function v(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((r(i={get stream(){return this[f]},next:function(){var e=this,t=this[h];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[h]?n(e[h]):t(d(void 0,!0))}))}));var n,i=this[c];if(i)n=new Promise(function(e,t){return function(n,i){e.then((function(){t[u]?n(d(void 0,!0)):t[l](n,i)}),i)}}(i,this));else{var r=this[f].read();if(null!==r)return Promise.resolve(d(r,!1));n=new Promise(this[l])}return this[c]=n,n}},Symbol.asyncIterator,(function(){return this})),r(i,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(d(void 0,!0))}))}))})),i),g);e.exports=function(e){var t,n=Object.create(m,(r(t={},f,{value:e,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,h,{value:null,writable:!0}),r(t,u,{value:e._readableState.endEmitted,writable:!0}),r(t,l,{value:function(e,t){var i=n[f].read();i?(n[c]=null,n[a]=null,n[s]=null,e(d(i,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[c]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[c]=null,n[a]=null,n[s]=null,t(e)),void(n[h]=e)}var i=n[a];null!==i&&(n[c]=null,n[a]=null,n[s]=null,i(d(void 0,!0))),n[u]=!0})),e.on("readable",v.bind(null,n)),n}},5489:function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(918).Buffer,s=n(2361).inspect,h=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,u;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,i,r=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=r,i=s,a.prototype.copy.call(t,n,i),s+=o.data.length,o=o.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?i+=r:i+=r.slice(0,e),0===(e-=o)){o===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0===(e-=o)){o===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(o));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&o(t.prototype,n),u&&o(t,u),e}()},6617:function(e){"use strict";function t(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,r){var o=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,e)):process.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!r&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(n,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):r?(process.nextTick(n,o),r(e)):process.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},4297:function(e,t,n){"use strict";var i=n(1092).q.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(o||r);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,h=function(){t.writable||c()},u=t._writableState&&t._writableState.finished,c=function(){s=!1,u=!0,a||o.call(t)},l=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,l=!0,s||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return a&&!l?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},v=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",h),t.on("close",h)):(t.on("complete",c),t.on("abort",p),t.req?v():t.on("request",v)),t.on("end",f),t.on("finish",c),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",c),t.removeListener("end",h),t.removeListener("close",h),t.removeListener("finish",c),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},7670:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},6545:function(e,t,n){"use strict";var i;var r=n(1092).q,o=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function h(e,t,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===i&&(i=n(4297)),i(e,{readable:t,writable:r},(function(e){if(e)return o(e);s=!0,o()}));var h=!1;return function(t){if(!s&&!h)return h=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function c(e,t){return e.pipe(t)}function l(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=l(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return h(e,o,n>0,(function(e){i||(i=e),e&&a.forEach(u),o||(a.forEach(u),r(i))}))}));return t.reduce(c)}},5999:function(e,t,n){"use strict";var i=n(1092).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(r?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},8747:function(e,t,n){e.exports=n(8041).EventEmitter},1881:function(e,t,n){(t=e.exports=n(6405)).Stream=t,t.Readable=t,t.Writable=n(7423),t.Duplex=n(6085),t.Transform=n(4917),t.PassThrough=n(9543),t.finished=n(4297),t.pipeline=n(6545)},5734:function(e,t,n){var i=n(918),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),o(r,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"===typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},8570:function(e,t,n){"use strict";var i=n(9857).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=h,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=l,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function h(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=a(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},9857:function(e,t,n){var i=n(918),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"===typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},9043:function(e,t,n){function i(e){try{if(!n.g.localStorage)return!1}catch(i){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},5882:function(e,t,n){var i=n(3895);function r(e){for(var t,n,r=0,o=e.length,a=0;a<e.length;){for(t=e[a],n=0;a<o&&e[a]===t;)++a,++n;r+=i.log2(n)/7|0,r+=i.log2(t>>>0)/7|0,r+=2}return r}t.size=r,t.encode=function(e,t){t||(t=new Uint8Array(r(e)));for(var n,i,o=0,a=t.length,s=0;s<e.length;){for(n=e[s],i=0;s<e.length&&e[s]===n;)++s,++i;for(;o<a&&i>=128;)t[o++]=128+(127&i),i>>>=7;if(o>=a)throw new Error("RLE buffer overflow");for(t[o++]=i,n>>>=0;o<a&&n>=128;)t[o++]=128+(127&n),n>>>=7;if(o>=a)throw new Error("RLE buffer overflow");t[o++]=n}return t},t.decode=function(e,t){for(var n,i,r,o,a=t.length,s=e.length,h=0,u=0;u<s;){for(n=0,i=0;u<s&&e[u]>=128;)n+=(127&e[u++])<<i,i+=7;if(n+=e[u++]<<i,u>=s)throw new Error("RLE buffer underrun");if(h+n>a)throw new Error("Chunk buffer overflow");for(r=0,i=0;u<s&&e[u]>=128;)r+=(127&e[u++])<<i,i+=7;if(u>=s)throw new Error("RLE buffer underrun");for(r+=e[u++]<<i,o=0;o<n;++o)t[h++]=r}return t}},3895:function(e,t){"use strict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,i=t,r=7;for(n>>>=1;n;n>>>=1)i<<=1,i|=1&n,--r;e[t]=i<<r&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},2361:function(){},4616:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var i=n(3897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var i=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){h=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(h)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(h){s=!0,r=h}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var i=n(8698).default;function r(){"use strict";e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",h=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,o=Object.create(r.prototype),a=new M(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return R()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var h=f(e,t,n);if("normal"===h.type){if(i=n.done?"completed":"suspendedYield",h.arg===d)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(i="completed",n.method="throw",n.arg=h.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var d={};function p(){}function v(){}function g(){}var m={};c(m,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==n&&o.call(b,s)&&(m=b);var w=g.prototype=p.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(r,a,s,h){var u=f(e[r],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==i(l)&&o.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,h)}),(function(e){n("throw",e,s,h)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,h)}))}h(u.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=f(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:void 0,done:!0}}return v.prototype=g,c(w,"constructor",g),c(g,"constructor",v),v.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,h,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new C(l(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),c(w,u,"Generator"),c(w,s,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=P,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),h=o.call(r,"finallyLoc");if(s&&h){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var i=n(5372),r=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var i=n(3405),r=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var i=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var i=n(7061)();e.exports=i;try{regeneratorRuntime=i}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function t(t,n){if(t){if("string"===typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(h){s=!0,r=h}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,n){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=t(e))||n&&e&&"number"===typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,h=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){h=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(h)throw a}}}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(n){return function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=.5*(Math.sqrt(3)-1),c=(3-Math.sqrt(3))/6,l=1/6,f=(Math.sqrt(5)-1)/4,d=(5-Math.sqrt(5))/20,p=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),v=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random;o(this,e);var n="function"==typeof t?t:b(t);this.p=y(n),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var i=0;i<512;i++)this.perm[i]=this.p[255&i],this.permMod12[i]=this.perm[i]%12}return s(e,[{key:"noise2D",value:function(e,t){var n,i,r=this.permMod12,o=this.perm,a=0,s=0,h=0,l=(e+t)*u,f=Math.floor(e+l),d=Math.floor(t+l),v=(f+d)*c,g=e-(f-v),m=t-(d-v);g>m?(n=1,i=0):(n=0,i=1);var y=g-n+c,b=m-i+c,w=g-1+2*c,k=m-1+2*c,C=255&f,S=255&d,_=.5-g*g-m*m;if(_>=0){var x=3*r[C+o[S]];a=(_*=_)*_*(p[x]*g+p[x+1]*m)}var M=.5-y*y-b*b;if(M>=0){var P=3*r[C+n+o[S+i]];s=(M*=M)*M*(p[P]*y+p[P+1]*b)}var R=.5-w*w-k*k;if(R>=0){var T=3*r[C+1+o[S+1]];h=(R*=R)*R*(p[T]*w+p[T+1]*k)}return 70*(a+s+h)}},{key:"noise3D",value:function(e,t,n){var i,r,o,a,s,h,u,c,f,d,v=this.permMod12,g=this.perm,m=.3333333333333333*(e+t+n),y=Math.floor(e+m),b=Math.floor(t+m),w=Math.floor(n+m),k=(y+b+w)*l,C=e-(y-k),S=t-(b-k),_=n-(w-k);C>=S?S>=_?(s=1,h=0,u=0,c=1,f=1,d=0):C>=_?(s=1,h=0,u=0,c=1,f=0,d=1):(s=0,h=0,u=1,c=1,f=0,d=1):S<_?(s=0,h=0,u=1,c=0,f=1,d=1):C<_?(s=0,h=1,u=0,c=0,f=1,d=1):(s=0,h=1,u=0,c=1,f=1,d=0);var x=C-s+l,M=S-h+l,P=_-u+l,R=C-c+2*l,T=S-f+2*l,A=_-d+2*l,E=C-1+.5,O=S-1+.5,L=_-1+.5,B=255&y,D=255&b,I=255&w,N=.6-C*C-S*S-_*_;if(N<0)i=0;else{var F=3*v[B+g[D+g[I]]];i=(N*=N)*N*(p[F]*C+p[F+1]*S+p[F+2]*_)}var j=.6-x*x-M*M-P*P;if(j<0)r=0;else{var z=3*v[B+s+g[D+h+g[I+u]]];r=(j*=j)*j*(p[z]*x+p[z+1]*M+p[z+2]*P)}var H=.6-R*R-T*T-A*A;if(H<0)o=0;else{var q=3*v[B+c+g[D+f+g[I+d]]];o=(H*=H)*H*(p[q]*R+p[q+1]*T+p[q+2]*A)}var U=.6-E*E-O*O-L*L;if(U<0)a=0;else{var G=3*v[B+1+g[D+1+g[I+1]]];a=(U*=U)*U*(p[G]*E+p[G+1]*O+p[G+2]*L)}return 32*(i+r+o+a)}},{key:"noise4D",value:function(e,t,n,i){var r,o,a,s,h,u=this.perm,c=(e+t+n+i)*f,l=Math.floor(e+c),p=Math.floor(t+c),g=Math.floor(n+c),m=Math.floor(i+c),y=(l+p+g+m)*d,b=e-(l-y),w=t-(p-y),k=n-(g-y),C=i-(m-y),S=0,_=0,x=0,M=0;b>w?S++:_++,b>k?S++:x++,b>C?S++:M++,w>k?_++:x++,w>C?_++:M++,k>C?x++:M++;var P=S>=3?1:0,R=_>=3?1:0,T=x>=3?1:0,A=M>=3?1:0,E=S>=2?1:0,O=_>=2?1:0,L=x>=2?1:0,B=M>=2?1:0,D=S>=1?1:0,I=_>=1?1:0,N=x>=1?1:0,F=M>=1?1:0,j=b-P+d,z=w-R+d,H=k-T+d,q=C-A+d,U=b-E+2*d,G=w-O+2*d,W=k-L+2*d,Y=C-B+2*d,V=b-D+3*d,K=w-I+3*d,J=k-N+3*d,X=C-F+3*d,Z=b-1+4*d,$=w-1+4*d,Q=k-1+4*d,ee=C-1+4*d,te=255&l,ne=255&p,ie=255&g,re=255&m,oe=.6-b*b-w*w-k*k-C*C;if(oe<0)r=0;else{var ae=u[te+u[ne+u[ie+u[re]]]]%32*4;r=(oe*=oe)*oe*(v[ae]*b+v[ae+1]*w+v[ae+2]*k+v[ae+3]*C)}var se=.6-j*j-z*z-H*H-q*q;if(se<0)o=0;else{var he=u[te+P+u[ne+R+u[ie+T+u[re+A]]]]%32*4;o=(se*=se)*se*(v[he]*j+v[he+1]*z+v[he+2]*H+v[he+3]*q)}var ue=.6-U*U-G*G-W*W-Y*Y;if(ue<0)a=0;else{var ce=u[te+E+u[ne+O+u[ie+L+u[re+B]]]]%32*4;a=(ue*=ue)*ue*(v[ce]*U+v[ce+1]*G+v[ce+2]*W+v[ce+3]*Y)}var le=.6-V*V-K*K-J*J-X*X;if(le<0)s=0;else{var fe=u[te+D+u[ne+I+u[ie+N+u[re+F]]]]%32*4;s=(le*=le)*le*(v[fe]*V+v[fe+1]*K+v[fe+2]*J+v[fe+3]*X)}var de=.6-Z*Z-$*$-Q*Q-ee*ee;if(de<0)h=0;else{var pe=u[te+1+u[ne+1+u[ie+1+u[re+1]]]]%32*4;h=(de*=de)*de*(v[pe]*Z+v[pe+1]*$+v[pe+2]*Q+v[pe+3]*ee)}return 27*(r+o+a+s+h)}}]),e}(),m=g;function y(e){for(var t=new Uint8Array(256),n=0;n<256;n++)t[n]=n;for(var i=0;i<255;i++){var r=i+~~(e()*(256-i)),o=t[i];t[i]=t[r],t[r]=o}return t}function b(e){var t=0,n=0,i=0,r=1,o=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var i=.02519603282416938*(e+=t.charCodeAt(n));i-=e=i>>>0,e=(i*=e)>>>0,e+=4294967296*(i-=e)}return 2.3283064365386963e-10*(e>>>0)}}();return t=o(" "),n=o(" "),i=o(" "),(t-=o(e))<0&&(t+=1),(n-=o(e))<0&&(n+=1),(i-=o(e))<0&&(i+=1),function(){var e=2091639*t+2.3283064365386963e-10*r;return t=n,n=i,i=e-(r=0|e)}}var w={seaLevel:0,bedrockLevel:-100},k=-1e4,C=-1e4,S=-1e4,_=n(7786);function x(e,t,n){return Math.abs(e[0]-t)+Math.abs(e[1]-n)}function M(e,t){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function P(e,t,n){var i=e[0]-t,r=e[1]-n;return i*i+r*r}function R(e,t,n){var i=e[0]-t,r=e[1]-n;return Math.sqrt(i*i+r*r)}function T(e,t,n){var i,r,o,a=M(t,n),s=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/a;return s<0?(i=t[0],r=t[1],o=0):s>1?(i=n[0],r=n[1],o=1):(i=t[0]+s*(n[0]-t[0]),r=t[1]+s*(n[1]-t[1]),o=s),{dist:R(e,i,r),fracAlong:o,lineSegmentLength:Math.sqrt(a)}}function A(e,t,n){var i=M(t,n),r=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return R(e,t[0]+r*(n[0]-t[0]),t[1]+r*(n[1]-t[1]))}function E(e,t,n,i,r){for(var o=[],a=e-r;a<e+i+r;++a)for(var s=t-r;s<t+i+r;++s)o.push([n.getOctaves(a,s),n.getOctaves(a+430,s-330)]);return o}function O(e,t,n,i,r){return n[(e+r)*(i+2*r)+(t+r)]}function L(e){if(Math.abs(e[0])<1e-4)e[0]=0,e[1]=1;else{var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);e[0]=e[0]/t,e[1]=e[1]/t}}function B(e){var t,n=0,i=r(e.customOctaves);try{for(i.s();!(t=i.n()).done;){n+=t.value.amplitude}}catch(o){i.e(o)}finally{i.f()}return n}var D=function(){function e(t,n){o(this,e),this.customOctaves=void 0,this._simplexes=[],console.assert(void 0!==n,"Seed must be defined"),this.customOctaves=t;for(var i=0;i<t.length;i++)this._simplexes.push(new m("".concat(n).concat(i)))}return s(e,[{key:"getOctaves",value:function(e,t){for(var n=0,i=0;i<this.customOctaves.length;i++){var r=this.customOctaves[i],o=r.amplitude,a=r.frequency;n+=this._simplexes[i].noise2D(e*a,t*a)*o}return n}}]),e}(),I=function(){function e(t,n,i){o(this,e),this.customOctaves=void 0,this._simplexes=[],this.remainingAmplitudes=void 0,this.threshold=void 0,console.assert(void 0!==i,"Seed must be defined"),this.customOctaves=t,this.threshold=n;for(var r=0;r<t.length;r++)this._simplexes.push(new m("".concat(i).concat(r)));this.remainingAmplitudes=new Array(t.length);for(var a=0,s=this.remainingAmplitudes.length-1;s>=0;s--)a+=this.customOctaves[s].amplitude,this.remainingAmplitudes[s]=a}return s(e,[{key:"getOctaves",value:function(e,t){for(var n=0,i=0;i<this.customOctaves.length;i++){if(n-this.remainingAmplitudes[i]>this.threshold.high||n+this.remainingAmplitudes[i]<this.threshold.low)return S;var r=this.customOctaves[i],o=r.amplitude,a=r.frequency;n+=this._simplexes[i].noise2D(e*a,t*a)*o}return n}}]),e}(),N=function(){function e(t){o(this,e),this.a=void 0;for(var n=2166136261,i=0;i<t.length;i++)n=Math.imul(n^t.charCodeAt(i),16777619);this.a=n}return s(e,[{key:"next",value:function(){var e=this.a+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296}}]),e}(),F=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o(this,e),this.array=void 0,this.chunkBottomLeft=void 0,this.needOutsideChunkDist=void 0,this.chunkBottomLeft=n,this.needOutsideChunkDist=i;var r=t+2*i;this.array=_(new Int16Array(r*r),[r,r])}return s(e,[{key:"set",value:function(e,t,n){this.array.set(e-this.chunkBottomLeft[0]+this.needOutsideChunkDist,t-this.chunkBottomLeft[1]+this.needOutsideChunkDist,n)}},{key:"get",value:function(e,t){return this.array.get(e-this.chunkBottomLeft[0]+this.needOutsideChunkDist,t-this.chunkBottomLeft[1]+this.needOutsideChunkDist)}}]),e}(),j=function(){function e(t,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;o(this,e),this.array=void 0,this.chunkBottomLeft=void 0,this.needOutsideChunkDist=void 0,this.chunkBottomLeft=n,this.needOutsideChunkDist=a;var s=t+2*a;this.array=_(new Int16Array(s*s*i*r),[s,s,i,r])}return s(e,[{key:"set",value:function(e,t,n,i,r){this.array.set(e-this.chunkBottomLeft[0]+this.needOutsideChunkDist,t-this.chunkBottomLeft[1]+this.needOutsideChunkDist,n,i,r)}},{key:"get",value:function(e,t,n,i){return this.array.get(e-this.chunkBottomLeft[0]+this.needOutsideChunkDist,t-this.chunkBottomLeft[1]+this.needOutsideChunkDist,n,i)}},{key:"fill",value:function(e){for(var t=0;t<this.array.shape[0];t++)for(var n=0;n<this.array.shape[1];n++)for(var i=0;i<this.array.shape[2];i++)for(var r=0;r<this.array.shape[3];r++)this.array.set(t,n,i,r,e)}}]),e}(),z=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o(this,e),this.array=void 0,this.chunkBottomLeft=void 0,this.needOutsideChunkDist=void 0,this.chunkBottomLeft=n,this.needOutsideChunkDist=i;var r=t+2*i,a=new Array(r*r);this.array=_(a,[r,r])}return s(e,[{key:"set",value:function(e,t,n){this.array.set(e-this.chunkBottomLeft[0]+this.needOutsideChunkDist,t-this.chunkBottomLeft[1]+this.needOutsideChunkDist,n)}},{key:"get",value:function(e,t){return this.array.get(e-this.chunkBottomLeft[0]+this.needOutsideChunkDist,t-this.chunkBottomLeft[1]+this.needOutsideChunkDist)}}]),e}(),H=n(8915),q=n.n(H),U=n(189),G=n.n(U),W=function(){function e(t,n,i,r,a,s){var h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0;if(o(this,e),this.minDist=void 0,this.variableDensitySettings=void 0,this.gridSize=void 0,this.cachedCells=void 0,this._tempCellCoord=[0,0],this.useIsPoint=void 0,this.useKthClosestPoint=void 0,this.seed=void 0,this.useJitteredGrid=void 0,this.customCellGap=void 0,this.mostRecentlyAccessedCell=null,console.assert(Number.isInteger(t)),this.cachedCells=new(G())({max:Ae()?100:50,ttl:6e4,updateAgeOnGet:!0}),this.minDist=t,this.variableDensitySettings=h,this.customCellGap=c,this.useJitteredGrid=u,this.gridSize=Math.floor(Math.sqrt(a*Math.pow(t,2))),u){var l=this.gridSize%t;0!==l&&(this.gridSize+=t-l)}else{var f=this.gridSize%s;0!==f&&(this.gridSize+=s-f)}this.useIsPoint=n,this.useKthClosestPoint=i,this.seed=r}return s(e,[{key:"isPoint",value:function(e,t){var n=this.getCellCoordFromGlobalCoord(e,t);return!!this.getCell(n[0],n[1]).pointsSet.has("".concat(e,"|").concat(t))}},{key:"getClosestPoint",value:function(e,t){var n,i=this.getCellCoordFromGlobalCoord(e,t),o=this.getCell(i[0],i[1]),a=[0,0],s=1e4,h=r(this._getPointsSurroundingCell(i,o));try{for(h.s();!(n=h.n()).done;){var u=n.value,c=R(u,e,t);c<s&&(a=u,s=c)}}catch(l){h.e(l)}finally{h.f()}return a}},{key:"getKClosestPointsWithWeights",value:function(e,t,n){var i=this.getCellCoordFromGlobalCoord(e,t),r=this.getCell(i[0],i[1]);return this._getPointsSurroundingCell(i,r),this._getClosestPointsForGeneratedCell(r,e,t,n)}},{key:"getPointsAroundPoint",value:function(e,t){var n=this.getCellCoordFromGlobalCoord(e,t),i=this.getCell(n[0],n[1]);return this._getPointsSurroundingCell(n,i)}},{key:"_getPointsSurroundingCell",value:function(e,t){if(!t.surroundingPoints){for(var n=h(t.points),i=e[0]-1;i<=e[0]+1;i++)for(var r=e[1]-1;r<=e[1]+1;r++)a=i,s=r,((o=e)[0]!==a||o[1]!==s)&&n.push.apply(n,h(this.getCell(i,r).points));t.surroundingPoints=n}var o,a,s;return t.surroundingPoints}},{key:"_getClosestPointsForGeneratedCell",value:function(e,t,n,i){var o,a=[0,0],s=1e5,h=r(e.surroundingPoints);try{for(h.s();!(o=h.n()).done;){var u=o.value,c=R(u,t,n);c<s&&(a=u,s=c)}}catch(b){h.e(b)}finally{h.f()}for(var l=[{pt:a,distDiffFromFirstPt:0,weight:0}],f=i,d=0;d<e.surroundingPoints.length;d++){var p=e.surroundingPoints[d];if(p[0]!==a[0]||p[1]!==a[1]){var v=R(p,t,n)-s;v<i&&(l.push({pt:p,distDiffFromFirstPt:v,weight:0}),f+=i-v)}}for(var g=0,m=l;g<m.length;g++){var y=m[g];y.weight=(i-y.distDiffFromFirstPt)/f}return l}},{key:"getCellCoordFromGlobalCoord",value:function(e,t){return this._tempCellCoord[0]=Math.floor(e/this.gridSize),this._tempCellCoord[1]=Math.floor(t/this.gridSize),this._tempCellCoord}},{key:"getCell",value:function(e,t){if(this.mostRecentlyAccessedCell&&this.mostRecentlyAccessedCell.coord[0]===e&&this.mostRecentlyAccessedCell.coord[1]===t)return this.mostRecentlyAccessedCell;var n="".concat(e,"|").concat(t),i=this.cachedCells.get(n);if(i)return this.mostRecentlyAccessedCell=i,i;var r=this.generateRandomPointsForCell(e,t),o={coord:[e,t],points:r.points,pointsSet:r.pointsSet,surroundingPoints:null};return this.cachedCells.set(n,o),this.mostRecentlyAccessedCell=o,o}},{key:"generateRandomPointsForCell",value:function(e,t){var n,i,o=e*this.gridSize,a=t*this.gridSize;if(this.useJitteredGrid){var s=new N("".concat(e).concat(t).concat(this.seed,"jitter"));n=[];for(var h=o+this.gridSize,u=a+this.gridSize,c=o;c<h;c+=this.minDist)for(var l=a;l<u;l+=this.minDist){var f=c+Math.floor(s.next()*this.minDist),d=l+Math.floor(s.next()*this.minDist);n.push([f,d])}}else{var p,v=new N("".concat(e).concat(t).concat(this.seed,"pts")),g=function(){return v.next()},m=this.gridSize-(this.customCellGap||this.minDist);if(null===this.variableDensitySettings)p=new(q())({shape:[m,m],minDistance:this.minDist,maxDistance:this.minDist,tries:40},g);else{var y=this.variableDensitySettings.min,b=this.variableDensitySettings.max,w=b-y,k=this.variableDensitySettings.func;p=new(q())({shape:[m,m],minDistance:y,maxDistance:b,tries:10,distanceFunction:function(e){return(k([e[0]+o,e[1]+a])-y)/w}},g)}n=p.fill().map((function(e){return[Math.floor(o+e[0]),Math.floor(a+e[1])]}))}if(this.useIsPoint){i=new Set;var C,S=r(n);try{for(S.s();!(C=S.n()).done;){var _=C.value;i.add("".concat(_[0],"|").concat(_[1]))}}catch(x){S.e(x)}finally{S.f()}}return{pointsSet:i,points:this.useKthClosestPoint?n:null}}}]),e}();function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J,X=function(){function e(t,n,i,r){o(this,e),this.chunkSize=void 0,this.pointsGenerator=void 0,this._tempChunkCoord=[0,0],this.maxRadiusChunk=void 0,this.seed=void 0,this.chunkSize=t,this.pointsGenerator=n,this.maxRadiusChunk=Math.floor(.5*i/this.chunkSize)+1,this.seed=r}return s(e,[{key:"getChunkCoordFromGlobalCoord",value:function(e,t){return this._tempChunkCoord[0]=Math.floor(e/this.chunkSize),this._tempChunkCoord[1]=Math.floor(t/this.chunkSize),this._tempChunkCoord}},{key:"getSurroundingFeatures",value:function(e,t){for(var n=this.getChunkCoordFromGlobalCoord(e,t),i=[],r=n[0]-this.maxRadiusChunk;r<=n[0]+this.maxRadiusChunk;r++)for(var o=n[1]-this.maxRadiusChunk;o<=n[1]+this.maxRadiusChunk;o++)this.pointsGenerator.isPoint(r,o)&&i.push(this._getRandomPointInChunk(r,o));return i}},{key:"_getRandomPointInChunk",value:function(e,t){var n=e*this.chunkSize,i=t*this.chunkSize,r=new N("".concat(e,"|").concat(t,"|").concat(this.seed));return[n+Math.floor(r.next()*this.chunkSize),i+Math.floor(r.next()*this.chunkSize)]}}]),e}(),Z=function(){function e(t,n,i){o(this,e),this.spaghettCaves=void 0,this.chunkSize=void 0,this.pitCaves={count:1,maxWidth:40,minWidth:15,distApartInChunks:5,distPerturbNoiseSetup:[{amplitude:1,frequency:1/8},{amplitude:3,frequency:.05},{amplitude:10,frequency:.01},{amplitude:29,frequency:.002}],yPerturbNoiseSetup:[{amplitude:1,frequency:.1},{amplitude:3,frequency:.02}],heightPerturbNoiseSetup:[{amplitude:3,frequency:.1},{amplitude:10,frequency:.02}],edgesTargetMidpointNoiseSetup:[{amplitude:1,frequency:1/3},{amplitude:2,frequency:1/7},{amplitude:2,frequency:1/15}],minHeight:25,maxHeight:45,minBottomPit:-99,maxBottomPit:-25,generators:[],distPerturbNoises:[],yPerturbNoises:[],heightPerturbNoises:[],edgesTargetMidpointNoise:[]},this.ravineCaves={count:2,maxWidth:15,minWidth:10,maxLength:90,minLength:50,distApartInChunks:7,distPerturbNoiseSetup:[{amplitude:1,frequency:1/8},{amplitude:3,frequency:.05},{amplitude:10,frequency:.01},{amplitude:30,frequency:.002}],yPerturbNoiseSetup:[{amplitude:1,frequency:.1},{amplitude:3,frequency:.02}],minHeight:25,maxHeight:45,maxBottomRavine:-99,minBottomRavine:-5,generators:[],distPerturbNoises:[],yPerturbNoises:[],edgesTargetMidpointNoise:[]},this.sphereCaves={count:1,maxRadius:6,minRadius:20,distApartInChunks:4,distPerturbNoiseSetup:[{amplitude:1,frequency:1/8},{amplitude:3,frequency:.05}],minCentreSphere:-79,maxCentreSphere:10,generators:[],distPerturbNoises:[]},this.seed=void 0,this.lookOutsideChunkDist=void 0,this.numCaves=void 0,this.numSpaghettiCaves=void 0,this.chunkSize=n,this.seed=t,this.lookOutsideChunkDist=i;var a={count:1,thresholdNoiseSetup:[{amplitude:1.5,frequency:1/300},{amplitude:.5,frequency:1/150},{amplitude:.35,frequency:1/70},{amplitude:.04,frequency:.2}],heightNoiseSetup:[{amplitude:25,frequency:.005},{amplitude:12,frequency:1/150}],heightPerturbSetup:[{amplitude:1,frequency:1/4},{amplitude:5,frequency:.1}],cutoffNoiseSetup:[{amplitude:1,frequency:1/300}],caveOffset:null,threshold:{low:-.1,high:.1},height:9,heightPercentCap:.5,thresholdNoises:[],heightNoises:[],heightPerturbNoises:[],cutoffNoises:[],caveBot:0};this.spaghettCaves=[];for(var s=0,h=[{caveBot:-15,amt:1},{caveBot:-35,amt:1},{caveBot:-55,amt:2},{caveBot:-75,amt:1},{caveBot:-99,amt:1}];s<h.length;s++){var u=h[s],c=u.caveBot,l=u.amt;this.spaghettCaves.push(K(K({},JSON.parse(JSON.stringify(a))),{},{caveBot:c,count:l}))}this.spaghettCaves.push({count:2,thresholdNoiseSetup:[{amplitude:1.5,frequency:1/300},{amplitude:.5,frequency:1/150},{amplitude:.35,frequency:1/70},{amplitude:.04,frequency:.2}],heightNoiseSetup:[{amplitude:18,frequency:.01},{amplitude:6,frequency:1/75}],heightPerturbSetup:[{amplitude:1,frequency:1/4},{amplitude:5,frequency:.1}],cutoffNoiseSetup:[{amplitude:1,frequency:1/300}],caveOffset:null,threshold:{low:-.1,high:.1},height:9,heightPercentCap:.5,thresholdNoises:[],heightNoises:[],heightPerturbNoises:[],cutoffNoises:[],caveBot:-98});this.spaghettCaves.push({count:1,thresholdNoiseSetup:[{amplitude:.35,frequency:1/70},{amplitude:.04,frequency:.2}],heightNoiseSetup:[{amplitude:40,frequency:1/120},{amplitude:15,frequency:1/85}],heightPerturbSetup:[{amplitude:2,frequency:.1}],cutoffNoiseSetup:[{amplitude:1,frequency:1/400}],caveOffset:null,threshold:{low:-.06,high:.06},height:12,heightPercentCap:.5,thresholdNoises:[],heightNoises:[],heightPerturbNoises:[],cutoffNoises:[],caveBot:-98});var f,d=r(this.spaghettCaves);try{for(d.s();!(f=d.n()).done;){var p,v=f.value,g=0,m=r(v.heightNoiseSetup);try{for(m.s();!(p=m.n()).done;){g+=p.value.amplitude}}catch(H){m.e(H)}finally{m.f()}v.caveOffset=v.caveBot+g}}catch(H){d.e(H)}finally{d.f()}this.numSpaghettiCaves=0,this.numCaves=0;for(var y=0;y<this.spaghettCaves.length;y++)for(var b=this.spaghettCaves[y],w=0;w<b.count;w++)b.thresholdNoises.push(new I(b.thresholdNoiseSetup,b.threshold,"".concat(t,"Cave").concat(y).concat(w))),b.heightNoises.push(new D(b.heightNoiseSetup,"".concat(t,"CaveHeightNoise").concat(y).concat(w))),b.heightPerturbNoises.push(new D(b.heightPerturbSetup,"".concat(t,"CaveHeightPerturb").concat(y).concat(w))),b.cutoffNoises.push(new D(b.cutoffNoiseSetup,"".concat(t,"CaveCutoff").concat(y).concat(w))),this.numCaves++,this.numSpaghettiCaves++;for(var k=0;k<this.pitCaves.count;k++){this.pitCaves.distPerturbNoises.push(new D(this.pitCaves.distPerturbNoiseSetup,"".concat(t,"DistPitPerturb").concat(k)));var C,S=0,_=r(this.pitCaves.distPerturbNoiseSetup);try{for(_.s();!(C=_.n()).done;){S+=C.value.amplitude}}catch(H){_.e(H)}finally{_.f()}this.pitCaves.yPerturbNoises.push(new D(this.pitCaves.yPerturbNoiseSetup,"".concat(t,"yPitPerturb").concat(k))),this.pitCaves.heightPerturbNoises.push(new D(this.pitCaves.heightPerturbNoiseSetup,"".concat(t,"heightPitPerturb").concat(k))),this.pitCaves.edgesTargetMidpointNoise.push(new D(this.pitCaves.edgesTargetMidpointNoiseSetup,"".concat(t,"edgesPitPerturb").concat(k)));var x=new W(this.pitCaves.distApartInChunks,!0,!1,"".concat(t,"PitGen").concat(k),100,n),M=new X(n,x,this.pitCaves.maxWidth+2*S,"".concat(t,"PitGen").concat(k));this.pitCaves.generators.push(M),console.assert(M.maxRadiusChunk<=this.pitCaves.distApartInChunks/2,"cannot have overlapping cave features, ".concat(M.maxRadiusChunk," ").concat(this.pitCaves.distApartInChunks/2)),this.numCaves++}for(var P=0;P<this.ravineCaves.count;P++){this.ravineCaves.distPerturbNoises.push(new D(this.ravineCaves.distPerturbNoiseSetup,"".concat(t,"DistRavPerturb").concat(P)));var R,T=0,A=r(this.ravineCaves.distPerturbNoiseSetup);try{for(A.s();!(R=A.n()).done;){T+=R.value.amplitude}}catch(H){A.e(H)}finally{A.f()}this.ravineCaves.yPerturbNoises.push(new D(this.ravineCaves.yPerturbNoiseSetup,"".concat(t,"yRavinePerturb").concat(P)));var E=new W(this.ravineCaves.distApartInChunks,!0,!1,"".concat(t,"RavineGen").concat(P),100,n),O=new X(n,E,Math.max(this.ravineCaves.maxLength,this.ravineCaves.maxWidth)+2*T,"".concat(t,"RavineGen").concat(P));this.ravineCaves.generators.push(O),console.assert(O.maxRadiusChunk<=this.ravineCaves.distApartInChunks/2,"cannot have overlapping cave features, ".concat(O.maxRadiusChunk," ").concat(this.ravineCaves.distApartInChunks/2)),this.numCaves++}for(var L=0;L<this.sphereCaves.count;L++){this.sphereCaves.distPerturbNoises.push(new D(this.sphereCaves.distPerturbNoiseSetup,"".concat(t,"DistSpherePerturb").concat(L)));var B,N=0,F=r(this.sphereCaves.distPerturbNoiseSetup);try{for(F.s();!(B=F.n()).done;){N+=B.value.amplitude}}catch(H){F.e(H)}finally{F.f()}var j=new W(this.sphereCaves.distApartInChunks,!0,!1,"".concat(t,"SphereGen").concat(L),100,n),z=new X(n,j,2*this.sphereCaves.maxRadius+2*N,"".concat(t,"SphereGen").concat(L));this.sphereCaves.generators.push(z),console.assert(z.maxRadiusChunk<=this.sphereCaves.distApartInChunks/2,"cannot have overlapping cave features, ".concat(z.maxRadiusChunk," ").concat(this.sphereCaves.distApartInChunks/2)),this.numCaves++}}return s(e,[{key:"getCaveInfoForChunk",value:function(e,t,n){var i=new j(this.chunkSize,[e,t],this.numCaves,2,this.lookOutsideChunkDist);i.fill(C);for(var r=e-this.lookOutsideChunkDist;r<e+this.chunkSize+this.lookOutsideChunkDist;++r)for(var o=t-this.lookOutsideChunkDist;o<t+this.chunkSize+this.lookOutsideChunkDist;++o)this._addSpaghettCavesForColumn(r,o,i,n.groundHeights,0);var a=this.numSpaghettiCaves;return this._addPitCaves(e,t,i,n.groundHeights,a),a+=this.pitCaves.count,this._addSphereCaves(e,t,i,n.groundHeights,a),a+=this.sphereCaves.count,this._addRavineCaves(e,t,i,n.groundHeights,a),this.removeCavesNearWater(e,t,i,n),i}},{key:"_addSpaghettCavesForColumn",value:function(e,t,n,i,o){var a,s=r(this.spaghettCaves);try{for(s.s();!(a=s.n()).done;)for(var h=a.value,u=0;u<h.count;u++){o++;var c=h.cutoffNoises[u].getOctaves(e,t),l=.08;if(!(c>=l)){var f=h.thresholdNoises[u].getOctaves(e,t);if(f!==S)if(f>h.threshold.low&&f<h.threshold.high){var d=h.threshold.high-h.threshold.low,p=h.threshold.low+d/2,v=Math.min(h.heightPercentCap,1-Math.abs(f-p)/(d/2)),g=h.height*v;c>0&&(g*=(l-c)/l);var m=h.heightPerturbNoises[u].getOctaves(e,t),y=h.heightPerturbNoises[u].getOctaves(e+980,t-370),b=h.heightNoises[u].getOctaves(e+m,t+y),w=Math.floor(b-g+h.caveOffset),k=Math.floor(b+g+h.caveOffset);k+1===i.get(e,t)&&k++,n.set(e,t,o-1,0,w),n.set(e,t,o-1,1,k)}}}}catch(C){s.e(C)}finally{s.f()}}},{key:"_addPitCaves",value:function(e,t,n,o,a){for(var s=0;s<this.pitCaves.generators.length;s++){a++;var h,u=this.pitCaves.generators[s],c=E(e,t,this.pitCaves.distPerturbNoises[s],this.chunkSize,this.lookOutsideChunkDist),l=r(u.getSurroundingFeatures(e,t));try{for(l.s();!(h=l.n()).done;)for(var f=i(h.value,2),d=f[0],p=f[1],v=new N("pit".concat(d,"|").concat(p,"|").concat(s).concat(this.seed)),g=Math.floor(v.next()*(this.pitCaves.maxWidth-this.pitCaves.minWidth))+this.pitCaves.minWidth,m=Math.floor(v.next()*(this.pitCaves.maxWidth-this.pitCaves.minWidth))+this.pitCaves.minWidth,y=d+g/2,b=d-g/2,w=p+m/2,k=p-m/2,C=Math.floor(v.next()*(this.pitCaves.maxBottomPit-this.pitCaves.minBottomPit))+this.pitCaves.minBottomPit,S=Math.floor(v.next()*(this.pitCaves.maxHeight-this.pitCaves.minHeight))+this.pitCaves.minHeight,_=-this.lookOutsideChunkDist;_<this.chunkSize+this.lookOutsideChunkDist;++_)for(var x=-this.lookOutsideChunkDist;x<this.chunkSize+this.lookOutsideChunkDist;++x){var M=e+_,P=t+x,R=O(_,x,c,this.chunkSize,this.lookOutsideChunkDist),T=M+R[0],A=P+R[1];if(!(T>y||T<b||A>w||A<k)){var L=this.pitCaves.yPerturbNoises[s].getOctaves(M,P),B=this.pitCaves.heightPerturbNoises[s].getOctaves(M,P),D=C+L,I=C+S+B,F=Math.min(y-T,T-b),j=Math.min(w-A,A-k),z=Math.min(F,j);if(z<4){var H=5+this.pitCaves.edgesTargetMidpointNoise[s].getOctaves(M,P),q=1-z/4;I-=(I-(D+=H*q))*q}D=Math.floor(D),(I=Math.floor(I))+1===o.get(M,P)&&I++,n.set(M,P,a-1,0,D),n.set(M,P,a-1,1,I)}}}catch(U){l.e(U)}finally{l.f()}}}},{key:"_addRavineCaves",value:function(e,t,n,o,a){for(var s=0;s<this.ravineCaves.generators.length;s++){a++;var h,u=this.ravineCaves.generators[s],c=E(e,t,this.ravineCaves.distPerturbNoises[s],this.chunkSize,this.lookOutsideChunkDist),l=r(u.getSurroundingFeatures(e,t));try{for(l.s();!(h=l.n()).done;){var f=h.value,d=i(f,2),p=d[0],v=d[1],g=new N("rav".concat(p,"|").concat(v,"|").concat(s).concat(this.seed)),m=Math.floor(g.next()*(this.ravineCaves.maxWidth-this.ravineCaves.minWidth))+this.ravineCaves.minWidth,y=Math.floor(g.next()*(this.ravineCaves.maxLength-this.ravineCaves.minLength))+this.ravineCaves.minLength,b=Math.floor(g.next()*(this.ravineCaves.maxBottomRavine-this.ravineCaves.minBottomRavine))+this.ravineCaves.minBottomRavine,w=Math.floor(g.next()*(this.ravineCaves.maxHeight-this.ravineCaves.minHeight))+this.ravineCaves.minHeight,k=[2*g.next()-1,2*g.next()-1];L(k);for(var C=-this.lookOutsideChunkDist;C<this.chunkSize+this.lookOutsideChunkDist;++C)for(var S=-this.lookOutsideChunkDist;S<this.chunkSize+this.lookOutsideChunkDist;++S){var _=e+C,x=t+S,M=O(C,S,c,this.chunkSize,this.lookOutsideChunkDist),P=_+M[0],T=x+M[1],B=[P,T];L([P-p,T-v]);var D=R(f,P,T);if(!(D>y)){var I=A(B,f,[f[0]+k[0],f[1]+k[1]]),F=m*(1-D/y);if(!(I>F)){var j=this.ravineCaves.yPerturbNoises[s].getOctaves(_,x),z=b+j,H=b+w+j,q=F-I;if(q<3)z+=w*(1-q/3);z=Math.floor(z),(H=Math.floor(H))+1===o.get(_,x)&&H++,n.set(_,x,a-1,0,z),n.set(_,x,a-1,1,H)}}}}}catch(U){l.e(U)}finally{l.f()}}}},{key:"_addSphereCaves",value:function(e,t,n,o,a){for(var s=0;s<this.sphereCaves.generators.length;s++){a++;var h,u=this.sphereCaves.generators[s],c=E(e,t,this.sphereCaves.distPerturbNoises[s],this.chunkSize,this.lookOutsideChunkDist),l=r(u.getSurroundingFeatures(e,t));try{for(l.s();!(h=l.n()).done;)for(var f=i(h.value,2),d=f[0],p=f[1],v=new N("sph".concat(d,"|").concat(p,"|").concat(s).concat(this.seed)),g=Math.floor(v.next()*(this.sphereCaves.maxRadius-this.sphereCaves.minRadius))+this.sphereCaves.minRadius,m=g*g,y=Math.floor(v.next()*(this.sphereCaves.maxCentreSphere-this.sphereCaves.minCentreSphere))+this.sphereCaves.minCentreSphere,b=-this.lookOutsideChunkDist;b<this.chunkSize+this.lookOutsideChunkDist;++b)for(var w=-this.lookOutsideChunkDist;w<this.chunkSize+this.lookOutsideChunkDist;++w){var k=e+b,C=t+w,S=O(b,w,c,this.chunkSize,this.lookOutsideChunkDist),_=k+S[0],x=C+S[1],M=d-_,P=p-x,R=M*M+P*P;if(!(R>m)){var T=Math.sqrt(m-R),A=Math.floor(y-T),L=Math.floor(y+T);L+1===o.get(k,C)&&L++,n.set(k,C,a-1,0,A),n.set(k,C,a-1,1,L)}}}catch(B){l.e(B)}finally{l.f()}}}},{key:"isCave",value:function(e,t,n,i){for(var r=0;r<this.numCaves;r++){var o=i.get(e,n,r,0),a=i.get(e,n,r,1);if(t>=o&&t<=a)return!0}return!1}},{key:"addCavesToChunk",value:function(e,t,n,i,r){for(var o=t;o<t+this.chunkSize;o++)for(var a=i;a<i+this.chunkSize;a++)for(var s=0;s<this.numCaves;s++){var h=r.get(o,a,s,0),u=r.get(o,a,s,1);if(h!==C)for(var c=Math.min(u+1,n+this.chunkSize),l=Math.max(h,n);l<c;l++)e.set(o-t,l-n,a-i,0)}}},{key:"removeCavesNearWater",value:function(e,t,n,i){for(var r=e-this.lookOutsideChunkDist;r<e+this.chunkSize+this.lookOutsideChunkDist;++r)for(var o=t-this.lookOutsideChunkDist;o<t+this.chunkSize+this.lookOutsideChunkDist;++o){var a=i.cavesAllowedBelowY.get(r,o);if(1e4!==a)for(var s=0;s<this.numCaves;s++){var h=n.get(r,o,s,0);n.get(r,o,s,1)>a&&(h>a?(n.set(r,o,s,0,C),n.set(r,o,s,1,C)):n.set(r,o,s,1,a))}}}}]),e}();!function(e){e[e.Maple=0]="Maple",e[e.Pine=1]="Pine",e[e.Plum=2]="Plum",e[e.Cedar=4]="Cedar",e[e.Aspen=5]="Aspen",e[e.Elm=6]="Elm",e[e.Palm=7]="Palm",e[e.AutumnMaple=8]="AutumnMaple",e[e.Pear=9]="Pear"}(J||(J={}));var $=function(){function e(t,n,i,a,s){var h;o(this,e),this.treeRadius=void 0,this.cavesGenerator=void 0,this.chunkSize=void 0,this.seed=void 0,this.treePointGen=void 0,this.blockMetadata=void 0,this.treeMinDistApart=6,this.minTreeHeight=4,this.maxTreeHeight=7,this.treeBlockIds=void 0,this.treeBlockIds=(Y(h={},J.Maple,{block:s["Maple Log"].id,base:s["Maple Log|TreeBase"].id,canopyLeaves:s["Maple Leaves|TreeCanopy"].id}),Y(h,J.Pine,{block:s["Pine Log"].id,base:s["Pine Log|TreeBase"].id,canopyLeaves:s["Pine Leaves|TreeCanopy"].id}),Y(h,J.Plum,{block:s["Plum Log"].id,base:s["Plum Log|TreeBase"].id,canopyLeaves:s["Plum Leaves|TreeCanopy"].id}),Y(h,J.Cedar,{block:s["Cedar Log"].id,base:s["Cedar Log|TreeBase"].id,canopyLeaves:s["Cedar Leaves|TreeCanopy"].id}),Y(h,J.Aspen,{block:s["Aspen Log"].id,base:s["Aspen Log|TreeBase"].id,canopyLeaves:s["Aspen Leaves|TreeCanopy"].id}),Y(h,J.Elm,{block:s["Elm Log"].id,base:s["Elm Log|TreeBase"].id,canopyLeaves:s["Elm Leaves|TreeCanopy"].id}),Y(h,J.Palm,{block:s["Palm Log"].id,base:s["Palm Log|TreeBase"].id,canopyLeaves:s["Palm Leaves|TreeCanopy"].id}),Y(h,J.AutumnMaple,{block:s["Maple Log"].id,base:s["Maple Log|TreeBase"].id,canopyLeaves:s["Autumn Maple Leaves|TreeCanopy"].id}),Y(h,J.Pear,{block:s["Pear Log"].id,base:s["Pear Log|TreeBase"].id,canopyLeaves:s["Pear Leaves|TreeCanopy"].id}),h),this.treeRadius=t.treeRadius,this.cavesGenerator=n,this.chunkSize=i,this.seed=a,this.blockMetadata=s;var u,c=1e5,l=0,f=r(t.biomeSelector.biomes);try{for(f.s();!(u=f.n()).done;){var d=u.value;d.biome.treeMinDist&&(c=Math.min(c,d.biome.treeMinDist),l=Math.max(l,d.biome.treeMinDist))}}catch(p){f.e(p)}finally{f.f()}this.treePointGen=new W(6,!0,!1,a,300,i,{func:function(e){return t._getBiome(e[0],e[1]).biome.treeMinDist||l},min:c,max:l},!1,2)}return s(e,[{key:"_getTreeTrunksForBlocksInChunk",value:function(t,n,i,r,o){for(var a=i.groundHeights,s=i.waterHeights,h=new z(this.chunkSize,[t,n],this.treeRadius),u=t-this.treeRadius;u<t+this.chunkSize+this.treeRadius;u++)for(var c=n-this.treeRadius;c<n+this.chunkSize+this.treeRadius;c++){var l=r.get(u,c)[0].biome;if(null!==l.treeMinDist)if(l.getTotalTreeChance()<=0&&console.error("Biome",l,"has 0 total tree chance"),this.treePointGen.isPoint(u,c)&&s.get(u,c)===k){var f=a.get(u,c);if(!this.cavesGenerator.isCave(u,f,c,o)){var d=new N("".concat(u).concat(c).concat(this.seed,"treeHeight")),p=e.getTreeTypeFromBiome(l,d),v=this.getRandTreeInfo(d),g=v.height,m=v.vineDir;this._addTreeToTreesNearbyBlocks(h,u,c,{pos:[u,c],height:g,vineDir:m,treeType:p},t,n)}}}return h}},{key:"getRandTreeInfo",value:function(e){return{height:Math.floor(e.next()*(this.maxTreeHeight-this.minTreeHeight))+this.minTreeHeight,vineDir:e.next()<1/30?Math.floor(4*e.next()):-1}}},{key:"_addTreeToTreesNearbyBlocks",value:function(e,t,n,i,r,o){for(var a=t-this.treeRadius;a<=t+this.treeRadius;a++)for(var s=n-this.treeRadius;s<=n+this.treeRadius;s++)if(a>=r&&a<r+this.chunkSize&&s>=o&&s<o+this.chunkSize){var h=e.get(a,s)||[];h.push(i),e.set(a,s,h)}}},{key:"getTreeBlock",value:function(e,t,n,o,a){var s=o.get(e,n);if(t<=s)return 0;if(t>s&&t<=s+this.maxTreeHeight){var h,u=r(a);try{for(u.s();!(h=u.n()).done;){var c=h.value,l=c.pos,f=o.get(l[0],l[1])+1,d=this.getTrunkBlockFromInfo(e,t,n,f,c);if(0!==d)return d}}catch(C){u.e(C)}finally{u.f()}}if(t<=s+this.maxTreeHeight+5){var p,v=r(a);try{for(v.s();!(p=v.n()).done;){var g=p.value,m=i(g.pos,2),y=m[0],b=m[1],w=o.get(y,b),k=this._getLeafBlockFromInfo(e,t,n,y,b,w+1,g);if(0!==k)return k}}catch(C){v.e(C)}finally{v.f()}}return 0}},{key:"getTrunkBlockFromInfo",value:function(e,t,n,i,r){var o=i+r.height-1,a=r.pos;if(t<=o){if(a[0]===e&&a[1]===n)return t===i?this.treeBlockIds[r.treeType].base:this.treeBlockIds[r.treeType].block;if(-1!==r.vineDir){var s=this.getVineInfoForTrunk(r.vineDir),h=s.offsetFromTrunk;if(a[0]+h[0]===e&&a[1]+h[1]===n&&t<o-1)return s.blockId}}return 0}},{key:"getVineInfoForTrunk",value:function(e){var t={offsetFromTrunk:[0,0],blockId:0};return 0===e?(t.offsetFromTrunk[0]=-1,t.blockId=this.blockMetadata["Vines|meta|rot4"].id):1===e?(t.offsetFromTrunk[1]=1,t.blockId=this.blockMetadata.Vines.id):2===e?(t.offsetFromTrunk[0]=1,t.blockId=this.blockMetadata["Vines|meta|rot2"].id):3===e&&(t.offsetFromTrunk[1]=-1,t.blockId=this.blockMetadata["Vines|meta|rot3"].id),t}},{key:"_getLeafBlockFromInfo",value:function(e,t,n,i,r,o,a){var s=a.height,h=o+s-3,u=o+s+this.treeRadius-1;if(t>h&&t<=u){var c,l;t<u-1&&(c=2.8,l=3),t===u-1?(c=1.2,l=1.7):t===u&&(c=.2,l=1.1);var f=function(e,t){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}([i,r],[e,n]);return f>=l?0:f>=c?new N("".concat(e).concat(t).concat(n,"leaf")).next()<.8?this.treeBlockIds[a.treeType].canopyLeaves:0:this.treeBlockIds[a.treeType].canopyLeaves}return 0}},{key:"getAllBlocksForTree",value:function(e,t){for(var n=i(t.pos,2),r=n[0],o=n[1],a=t.height,s=(t.vineDir,[]),h=r-this.treeRadius;h<=r+this.treeRadius;h++)for(var u=e;u<=e+a;u++)for(var c=o-this.treeRadius;c<=o+this.treeRadius;c++){var l=this.getTrunkBlockFromInfo(h,u,c,e,t);if(0===l){var f=this._getLeafBlockFromInfo(h,u,c,r,o,e,t);0!==f&&s.push({x:h,y:u,z:c,id:f})}else s.push({x:h,y:u,z:c,id:l})}return s}}],[{key:"getTreeTypeFromBiome",value:function(e,t){for(var n=Math.floor(t.next()*e.getTotalTreeChance()),i=0,r=0;i<=n;)i+=e.treeChances[r].chance,r++;return e.treeChances[r-1].treeType}}]),e}(),Q=n(5882),ee=s((function e(){o(this,e),this.hasLake=!1,this.lakeCreationHasBeenAttempted=!1,this.lakeWaterHeight=0,this.lakeRadius=0,this.lakeBedHeight=0})),te=function(){function e(t,n,i,r){o(this,e),this.worldGenerator=void 0,this.gridSize=224,this.cellCenterMaxOffset=void 0,this.maxRiverSettings={width:23,atFlux:800},this.lakeSettings={minRadius:15,maxRadius:60,maxRadiusAtFlux:1700,noLakeFluxCutoff:50},this.widthOffset=2,this.seed=void 0,this.lakeRadiusNoiseModifier=void 0,this.lakeRadiusNoiseAmplitude=void 0,this.waterBodyInfos=new Map,this.lastReadInfo={lastId:null,info:null},this.worldGenerator=t;var a=Math.max(this.lakeSettings.maxRadius,this.maxRiverSettings.width/2+this.widthOffset)+r+i;this.cellCenterMaxOffset=this.gridSize/2-a,this.seed=n,this.lakeRadiusNoiseModifier=new D([{amplitude:10,frequency:1/55},{amplitude:4,frequency:.04}],"".concat(n,"GlobalHeightmapOffset")),this.lakeRadiusNoiseAmplitude=B(this.lakeRadiusNoiseModifier)}return s(e,[{key:"getInfoNeededForWaterGen",value:function(e,t){var n=[e,t],i=this.getWaterInfo(e,t,!0),o=1e4,a=0,s=0,h=0,u=0,c=0,l=0;if(i.downhill){var f=T(n,i.origin,i.downhill.origin),d=f.dist,p=f.fracAlong,v=f.lineSegmentLength;a=Math.floor(d);var g=i.incomingFlux;if(g+=p*i.selfFlux,h=Math.min(1,g/this.maxRiverSettings.atFlux),o=a-(s=Math.max(1,Math.ceil(h*this.maxRiverSettings.width)))/2,c=i.originNoWaterHeight+-3,i.downhill.lakeInfo.hasLake){l=i.downhill.lakeInfo.lakeWaterHeight;var m=v-i.downhill.lakeInfo.lakeRadius,y=v*p;u=Math.min(1,y/m)}else l=i.downhill.originNoWaterHeight+-3,u=p}var b,w=r(i.uphills);try{for(w.s();!(b=w.n()).done;){var k=b.value,C=T(n,k.origin,i.origin),S=C.dist,_=C.fracAlong,x=C.lineSegmentLength,M=Math.floor(S),P=k.incomingFlux;P+=_*k.selfFlux;var A=Math.min(1,P/this.maxRiverSettings.atFlux),E=Math.max(1,Math.ceil(A*this.maxRiverSettings.width)),O=M-E/2;if(O<o)if(o=O,a=M,h=A,s=E,c=k.originNoWaterHeight+-3,i.lakeInfo.hasLake){l=i.lakeInfo.lakeWaterHeight;var L=x-i.lakeInfo.lakeRadius,B=x*_;u=Math.min(1,B/L)}else l=i.originNoWaterHeight+-3,u=_}}catch(U){w.e(U)}finally{w.f()}if(1e4!==o){var D=1e4,I=0;if(i.lakeInfo.hasLake){var N=i.lakeInfo,F=this.lakeRadiusNoiseModifier.getOctaves(e,t);F+=this.lakeRadiusNoiseAmplitude,F*=N.lakeRadius/this.lakeSettings.maxRadius,I=N.lakeRadius-F,D=R(i.origin,e,t)-I}var j=Math.floor(l+(c-l)*(1-u)),z=j-(Math.ceil(10*h)+2);if(o<D)return{distFromWater:a,waterRadius:(s+this.widthOffset)/2,waterHeight:j,waterbedHeight:z,isLake:!1};var H=R(i.origin,e,t),q=i.lakeInfo;return{distFromWater:H,waterRadius:I,waterHeight:q.lakeWaterHeight,waterbedHeight:q.lakeBedHeight,isLake:!0}}return{distFromWater:1e4,waterRadius:0,waterHeight:0,waterbedHeight:0,isLake:!1}}},{key:"getWaterInfo",value:function(e,t,n){var i=Math.floor(e/this.gridSize),r=Math.floor(t/this.gridSize),o=this.getCellInfo(i,r);if(o.uphills||this.fillInUphillInfo(i,r,o),o.downhill||o.lakeInfo.lakeCreationHasBeenAttempted||(this.fillInLakeInfo(o),o.lakeInfo.lakeCreationHasBeenAttempted=!0),n&&o.downhill){var a=this.getWaterInfo(o.downhill.origin[0],o.downhill.origin[1],!1);o.downhill.lakeInfo=a.lakeInfo}return o}},{key:"getCellInfo",value:function(e,t){var n="".concat(e,"|").concat(t);if(n===this.lastReadInfo.lastId)return this.lastReadInfo.info;if(this.waterBodyInfos.has(n)){var i=this.waterBodyInfos.get(n);return this.lastReadInfo.lastId=n,this.lastReadInfo.info=i,i}var r=this.getCellOrigin(e,t),o=this.worldGenerator.getClosestBiomes(r[0],r[1]),a=this.worldGenerator.getNoWaterHeightmapVal(r[0],r[1],o),s={origin:r,originNoWaterHeight:a,downhill:this.getDownhillFromCell(e,t,a),uphills:null,incomingFlux:null,selfFlux:this.getRainfall(r[0],r[1]),lakeInfo:new ee};return this.lastReadInfo.lastId=n,this.lastReadInfo.info=s,this.waterBodyInfos.set(n,s),this.waterBodyInfos.size>200&&this.waterBodyInfos.delete(this.waterBodyInfos.keys().next().value),s}},{key:"fillInUphillInfo",value:function(e,t,n){var i,o=this.getUphillsFromCell(e,t),a=0,s=r(o);try{for(s.s();!(i=s.n()).done;){var h=i.value;a+=h.incomingFlux+h.selfFlux}}catch(u){s.e(u)}finally{s.f()}n.uphills=o,n.incomingFlux=a}},{key:"getUphillsFromCell",value:function(e,t){for(var n=[],i=-1;i<=1;i++)for(var r=-1;r<=1;r++){var o,a,s=e+i,h=t+r,u=Math.abs(i)+Math.abs(r);if(2!==u&&0!==u){var c=this.getCellInfo(s,h);(null===(o=c.downhill)||void 0===o?void 0:o.cell[0])===e&&(null===(a=c.downhill)||void 0===a?void 0:a.cell[1])===t&&(c.uphills||this.fillInUphillInfo(s,h,c),n.push({incomingFlux:c.incomingFlux,selfFlux:c.selfFlux,origin:c.origin,originNoWaterHeight:c.originNoWaterHeight}))}}return n}},{key:"getDownhillFromCell",value:function(e,t,n){for(var i={cell:[0,0],origin:null,originNoWaterHeight:0,lakeInfo:new ee},r=-1,o=-1;o<=1;o++)for(var a=-1;a<=1;a++){var s=e+o,h=t+a,u=Math.abs(o)+Math.abs(a);if(2!==u&&0!==u){var c=this.getCellOrigin(s,h),l=this.worldGenerator.getClosestBiomes(c[0],c[1]),f=this.worldGenerator.getNoWaterHeightmapVal(c[0],c[1],l),d=n-f;d>0&&d>r&&(r=d,i.cell[0]=s,i.cell[1]=h,i.origin=c,i.originNoWaterHeight=f)}}return-1!==r?i:null}},{key:"getCellOrigin",value:function(e,t){var n=e*this.gridSize+this.gridSize/2,i=t*this.gridSize+this.gridSize/2,r=new N("".concat(e).concat(t).concat(this.seed,"riverCell"));return[n+Math.floor(r.next()*this.cellCenterMaxOffset*2-this.cellCenterMaxOffset),i+Math.floor(r.next()*this.cellCenterMaxOffset*2-this.cellCenterMaxOffset)]}},{key:"fillInLakeInfo",value:function(e){var t=e.lakeInfo,n=e.incomingFlux+e.selfFlux;if(!(n<this.lakeSettings.noLakeFluxCutoff)){t.hasLake=!0;var i=n/this.lakeSettings.maxRadiusAtFlux,r=this.lakeSettings.minRadius+Math.ceil(i*(this.lakeSettings.maxRadius-this.lakeSettings.minRadius));t.lakeRadius=r,t.lakeWaterHeight=Math.floor(e.originNoWaterHeight-7);var o=4+.35*r;t.lakeBedHeight=Math.floor(t.lakeWaterHeight-o)}}},{key:"getRainfall",value:function(e,t){return 100}}]),e}(),ne=function(){function e(t,n,i){for(var r in o(this,e),this.ores=void 0,this.blockMetadata=void 0,this.seed=void 0,this.chunkSize=void 0,this.blockMetadata=t,this.seed=n,this.chunkSize=i,this.ores={"Moonstone Ore":{radius:2,minDistBetweenDeposits:40,minY:-85,maxY:-85,spawnChance:.5,pointGenerator:null},"Diamond Ore":{radius:2,minDistBetweenDeposits:13,minY:-100,maxY:-85,spawnChance:.28,pointGenerator:null},"Gold Ore":{radius:2,minDistBetweenDeposits:10,minY:-100,maxY:-75,spawnChance:.4,pointGenerator:null},"Iron Ore":{radius:2,minDistBetweenDeposits:5,minY:-80,maxY:15,spawnChance:.5,pointGenerator:null},"Coal Ore":{radius:3,minDistBetweenDeposits:4,minY:-60,maxY:40,spawnChance:.5,pointGenerator:null}},this.ores){var a=this.ores[r];a.pointGenerator=new W(a.minDistBetweenDeposits,!1,!0,"".concat(n).concat(r),20,i,null,!0)}}return s(e,[{key:"getOreBlocksForChunk",value:function(e,t){var n=new z(this.chunkSize,[e,t],0),i=new N("".concat(e).concat(t).concat(this.seed,"oreExists"));for(var o in this.ores){var a,s=this.ores[o],h=this.blockMetadata[o].id,u=s.pointGenerator.getPointsAroundPoint(e+this.chunkSize/2,t+this.chunkSize/2),c=e+this.chunkSize+s.radius,l=e-s.radius-1,f=t+this.chunkSize+s.radius,d=t-s.radius-1,p=r(u);try{for(p.s();!(a=p.n()).done;){var v=a.value;if(!(v[0]>=c||v[0]<=l||v[1]>=f||v[1]<=d))for(var g=new N("".concat(v[0]).concat(v[1]).concat(this.seed,"ore")),m=Math.floor(g.next()*(s.maxY-s.minY))+s.minY,y=Math.max(e,v[0]-s.radius),b=Math.min(e+this.chunkSize-1,v[0]+s.radius),w=Math.max(t,v[1]-s.radius),k=Math.min(t+this.chunkSize-1,v[1]+s.radius),C=y;C<=b;C++)for(var S=w;S<=k;S++){if(!(x(v,C,S)>s.radius)&&!(i.next()>=s.spawnChance)){var _={yLevel:m,oreId:h};if(n.get(C,S)){n.get(C,S).push(_)}else{var M=[];n.set(C,S,M),M.push(_)}}}}}catch(P){p.e(P)}finally{p.f()}}return n}},{key:"addOresToColumn",value:function(e,t,n,i,o,a,s,h){if(h){var u,c=r(h);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=l.yLevel,d=l.oreId;f<s&&f>=o&&f<o+this.chunkSize&&e.set(t-i,f-o,n-a,d)}}catch(p){c.e(p)}finally{c.f()}}}}]),e}();function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){if(t&&("object"===ae(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=oe(e);if(t){var r=oe(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return se(this,n)}}var ue,ce=function(){function e(t,n,i,a,s,h){var u=s.cactusChance,c=s.maxCactusHeight;o(this,e),this.blockMetadata=void 0,this.seed=void 0,this.grassChance=void 0,this.cactusChance=void 0,this.maxCactusHeight=void 0,this.doFlowerGen=void 0,this.flowerInfos=void 0,this.totalFlowerPatchChance=void 0,this.flowerPatchPointGen=void 0,this.chunkSize=void 0,this.maxPatchRadius=void 0,this.blockMetadata=t,this.seed=i,this.grassChance=a,this.cactusChance=u,this.maxCactusHeight=c,this.chunkSize=n;var l=.5;this.flowerInfos=[{flower:"Dandelion",patchChance:h.dandelionChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"Poppy",patchChance:h.poppyChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"Forget-me-not",patchChance:h.forgetMeNotChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"Red Tulip",patchChance:h.redTulipChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"Pink Tulip",patchChance:h.pinkTulipChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"White Tulip",patchChance:h.whiteTulipChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"Orange Tulip",patchChance:h.orangeTulipChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"Daisy",patchChance:h.daisyChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"Allium",patchChance:h.alliumChance,insidePatchSpawnChance:l,patchRadius:3},{flower:"Bluebell",patchChance:h.bluebellChance,insidePatchSpawnChance:.85,patchRadius:8},{flower:"Fallen Maple Leaves",patchChance:h.fallenMapleLeavesChance,insidePatchSpawnChance:.5,patchRadius:2},{flower:"Melon",patchChance:h.melonChance,insidePatchSpawnChance:.5,patchRadius:2},{flower:"Watermelon",patchChance:h.watermelonChance,insidePatchSpawnChance:.5,patchRadius:2},{flower:"Pumpkin",patchChance:h.pumpkinChance,insidePatchSpawnChance:.5,patchRadius:2}],this.maxPatchRadius=0;var f,d=r(this.flowerInfos);try{for(d.s();!(f=d.n()).done;){var p=f.value.patchRadius;this.maxPatchRadius=Math.max(this.maxPatchRadius,p)}}catch(y){d.e(y)}finally{d.f()}this.totalFlowerPatchChance=0;var v,g=r(this.flowerInfos);try{for(g.s();!(v=g.n()).done;){var m=v.value.patchChance;this.totalFlowerPatchChance+=m}}catch(y){g.e(y)}finally{g.f()}this.doFlowerGen=null!==h.flowerPatchDistApart,this.doFlowerGen&&(this.flowerPatchPointGen=new W(h.flowerPatchDistApart,!1,!0,i,4,n))}return s(e,[{key:"addBiomeFloraToColumn",value:function(e,t,n,i,r,o,a){if(a+1>=r&&a+1<r+this.chunkSize){var s=new N("".concat(i).concat(o).concat(this.seed,"flora"));if(s.next()<this.grassChance&&e.set(i-t,a+1-r,o-n,this.blockMetadata["Tall Grass"].id),this.doFlowerGen&&this.totalFlowerPatchChance>0){var h=this.flowerPatchPointGen.getClosestPoint(i,o),u=x(h,i,o);if(u<this.maxPatchRadius){for(var c=new N("".concat(h[0]).concat(h[1]).concat(this.seed,"flowerpatch")),l=Math.floor(c.next()*this.totalFlowerPatchChance),f=0,d=0;f<=l;)f+=this.flowerInfos[d].patchChance,d++;var p=this.flowerInfos[d-1];if(u<p.patchRadius&&s.next()<p.insidePatchSpawnChance){var v=p.flower;e.set(i-t,a+1-r,o-n,this.blockMetadata[v].id)}}}}if(0!==this.cactusChance){var g=new N("".concat(i).concat(o).concat(this.seed,"cactus")),m=g.next();if(m<this.cactusChance)for(var y=Math.floor(g.next()*(this.maxCactusHeight-1))+1,b=Math.min(a+y+1,r+this.chunkSize),w=m<this.cactusChance*(2/3),k=Math.max(a+1,r);k<b;k++)e.set(i-t,k-r,o-n,w?this.blockMetadata["Fat Cactus"].id:this.blockMetadata.Cactus.id)}}}]),e}(),le=function(){function e(t,n,i,r,a){var s=a.oreGenerator,h=a.cavesGenerator;o(this,e),this.offsettedHeight=-5,this.topsoilBlockType=void 0,this.lowsoilBlockType=void 0,this.topwaterBlockType=void 0,this.blockMetadata=void 0,this.chunkSize=void 0,this.treeMinDist=5,this._heightmapSimplex=void 0,this.worldGenerator=void 0,this.oreGenerator=void 0,this.cavesGenerator=void 0,this.floraGenerator=void 0,this.maxCactusHeight=4,this.grassChance=.025,this.maxFloraHeight=this.maxCactusHeight,this.flowerPatchDistApart=40,this.poppyChance=10,this.daisyChance=10,this.pinkTulipChance=10,this.cactusChance=0,this.forgetMeNotChance=0,this.whiteTulipChance=0,this.orangeTulipChance=0,this.redTulipChance=0,this.dandelionChance=0,this.bluebellChance=0,this.alliumChance=0,this.fallenMapleLeavesChance=0,this.melonChance=0,this.watermelonChance=0,this.pumpkinChance=0,this.mapleTreeChance=1,this.pineTreeChance=0,this.plumTreeChance=0,this.cedarTreeChance=0,this.aspenTreeChance=0,this.elmTreeChance=0,this.palmTreeChance=0,this.autumnMapleTreeChance=0,this.pearTreeChance=0,this.seed=void 0,this.totalTreeChance=void 0,this.treeChances=void 0,this.chunkSize=t,this.blockMetadata=n,this.seed=r,this.topsoilBlockType=n["Grass Block"].id,this.lowsoilBlockType=n.Dirt.id,this.topwaterBlockType=n.Water.id,this.worldGenerator=i,this.oreGenerator=s,this.cavesGenerator=h}return s(e,[{key:"init",value:function(){this.floraGenerator=new ce(this.blockMetadata,this.chunkSize,"".concat(this.seed,"flora"),this.grassChance,{cactusChance:this.cactusChance,maxCactusHeight:this.maxCactusHeight},{flowerPatchDistApart:this.flowerPatchDistApart,dandelionChance:this.dandelionChance,poppyChance:this.poppyChance,forgetMeNotChance:this.forgetMeNotChance,redTulipChance:this.redTulipChance,pinkTulipChance:this.pinkTulipChance,whiteTulipChance:this.whiteTulipChance,orangeTulipChance:this.orangeTulipChance,daisyChance:this.daisyChance,bluebellChance:this.bluebellChance,alliumChance:this.alliumChance,fallenMapleLeavesChance:this.fallenMapleLeavesChance,melonChance:this.melonChance,watermelonChance:this.watermelonChance,pumpkinChance:this.pumpkinChance}),this.treeChances=[{treeType:J.Maple,chance:this.mapleTreeChance},{treeType:J.Pine,chance:this.pineTreeChance},{treeType:J.Plum,chance:this.plumTreeChance},{treeType:J.Cedar,chance:this.cedarTreeChance},{treeType:J.Aspen,chance:this.aspenTreeChance},{treeType:J.Elm,chance:this.elmTreeChance},{treeType:J.Palm,chance:this.palmTreeChance},{treeType:J.AutumnMaple,chance:this.autumnMapleTreeChance},{treeType:J.Pear,chance:this.pearTreeChance}],this.totalTreeChance=0;var e,t=r(this.treeChances);try{for(t.s();!(e=t.n()).done;){var n=e.value.chance;this.totalTreeChance+=n}}catch(i){t.e(i)}finally{t.f()}}},{key:"xzId",value:function(e,t){return"".concat(e,"|").concat(t)}},{key:"getHeightmapVal",value:function(e,t){return this.offsettedHeight+this._heightmapSimplex.getOctaves(e,t)}},{key:"getTopsoilBlock",value:function(e,t,n){return this.topsoilBlockType}},{key:"getLowsoilBlockType",value:function(e,t,n,i){return this.lowsoilBlockType}},{key:"getTotalTreeChance",value:function(){return this.totalTreeChance}}]),e}(),fe=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,"".concat(a,"Desert"),s)).grassChance=0,h.cactusChance=6e-4,h.flowerPatchDistApart=null,h.treeMinDist=null,h.topsoilBlockType=i.Sand.id,h.lowsoilBlockType=i.Sand.id,h._heightmapSimplex=new D([{amplitude:2,frequency:1/70},{amplitude:1,frequency:1/30}],"".concat(a,"DesertBiomeHeightMap")),h}return s(n)}(le),de=function(e){re(n,e);var t=he(n);function n(){var e;o(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).cactusChance=.05,e}return s(n)}(fe),pe=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,"".concat(a,"RedDesert"),s)).topsoilBlockType=i["Red Sand"].id,h.lowsoilBlockType=i["Red Sand"].id,h}return s(n)}(fe),ve=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,"".concat(a,"Plains"),s)).grassChance=.18,h.flowerPatchDistApart=20,h.forgetMeNotChance=10,h.whiteTulipChance=10,h.orangeTulipChance=10,h.redTulipChance=10,h.dandelionChance=10,h.alliumChance=10,h.watermelonChance=2,h.topsoilBlockType=i["Grass Block"].id,h.lowsoilBlockType=i.Dirt.id,h.treeMinDist=75,h._heightmapSimplex=new D([{amplitude:4,frequency:1/70},{amplitude:2,frequency:1/30}],"".concat(a,"PlainsBiomeHeightMap")),h}return s(n)}(le),ge=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,a,s)).poppyChance=0,h.daisyChance=0,h.pinkTulipChance=0,h.grassChance=.001,h.forgetMeNotChance=0,h.whiteTulipChance=0,h.orangeTulipChance=0,h.redTulipChance=0,h.dandelionChance=0,h.alliumChance=0,h.watermelonChance=0,h.topsoilBlockType=i.Snow.id,h.topwaterBlockType=i.Ice.id,h}return s(n)}(ve),me=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,"".concat(a,"Forest"),s)).mapleTreeChance=15,h.aspenTreeChance=1,h.melonChance=3,h.topsoilBlockType=i["Grass Block"].id,h.lowsoilBlockType=i.Dirt.id,h.treeMinDist=6,h._heightmapSimplex=new D([{amplitude:4,frequency:1/70},{amplitude:2,frequency:1/30}],"".concat(a,"ForestBiomeHeightMap")),h}return s(n)}(le),ye=function(e){re(n,e);var t=he(n);function n(){var e;o(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).pumpkinChance=3,e.melonChance=0,e.aspenTreeChance=0,e.plumTreeChance=1,e}return s(n)}(me),be=function(e){re(n,e);var t=he(n);function n(){var e;o(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).melonChance=3,e.aspenTreeChance=0,e.pearTreeChance=1,e}return s(n)}(me),we=function(e){re(n,e);var t=he(n);function n(){var e;o(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).flowerPatchDistApart=13,e.fallenMapleLeavesChance=80,e.pumpkinChance=3,e.melonChance=0,e.autumnMapleTreeChance=1,e.mapleTreeChance=0,e.aspenTreeChance=0,e}return s(n)}(me),ke=function(e){re(n,e);var t=he(n);function n(){var e;o(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).melonChance=0,e.aspenTreeChance=0,e.mapleTreeChance=0,e.elmTreeChance=15,e.palmTreeChance=1,e}return s(n)}(me),Ce=function(e){re(n,e);var t=he(n);function n(){var e;o(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).melonChance=0,e.mapleTreeChance=0,e.aspenTreeChance=0,e.pineTreeChance=15,e.cedarTreeChance=1,e}return s(n)}(me),Se=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,a,s)).poppyChance=0,h.daisyChance=0,h.pinkTulipChance=0,h.grassChance=.005,h.topsoilBlockType=i.Snow.id,h.topwaterBlockType=i.Ice.id,h}return s(n)}(Ce),_e=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,"".concat(a,"Blue"),s)).bluebellChance=1,h.melonChance=0,h.flowerPatchDistApart=12,h.poppyChance=0,h.daisyChance=0,h.pinkTulipChance=0,h}return s(n)}(me),xe=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,"".concat(a,"RollingHills"),s)).topsoilBlockType=i["Grass Block"].id,h.treeMinDist=25,h.offsettedHeight=20,h._heightmapSimplex=new D([{amplitude:20,frequency:.005},{amplitude:4,frequency:1/70}],"".concat(a,"RollingHillsBiomeHeightMap")),h}return s(n)}(le),Me=function(e){re(n,e);var t=he(n);function n(e,i,r,a,s){var h;return o(this,n),(h=t.call(this,e,i,r,"".concat(a,"SnowyMountains"),s)).poppyChance=0,h.daisyChance=0,h.pinkTulipChance=0,h.grassChance=0,h.ridgedNoiseAmplitude=void 0,h.ridgedNoiseOctave1=void 0,h.ridgedNoiseOctave2=void 0,h.nonRidgedNoise=void 0,h.treeMinDist=50,h.offsettedHeight=0,h.ridgedNoiseOctave1=new D([{amplitude:80,frequency:.005}],"".concat(a,"SnowyMountainsBiomeRidgedNoise")),h.ridgedNoiseOctave2=new D([{amplitude:20,frequency:1/120}],"".concat(a,"SnowyMountainsBiomeRidgedNoiseOctave2")),h.nonRidgedNoise=new D([{amplitude:8,frequency:1/120}],"".concat(a,"SnowyMountainsBiomeNonRidgedNoise")),h.ridgedNoiseAmplitude=B(h.ridgedNoiseOctave1)+B(h.ridgedNoiseOctave2),h}return s(n,[{key:"getHeightmapVal",value:function(e,t){var n=this.ridgedNoiseAmplitude-Math.abs(this.ridgedNoiseOctave1.getOctaves(e,t))-Math.abs(this.ridgedNoiseOctave2.getOctaves(e,t));return this.offsettedHeight+n+this.nonRidgedNoise.getOctaves(e,t)}},{key:"getTopsoilBlock",value:function(e,t,n){return t>80?this.blockMetadata.Snow.id:t>60?this.blockMetadata.Stone.id:this.blockMetadata["Grass Block"].id}},{key:"getLowsoilBlockType",value:function(e,t,n,i){return t>85&&t>=i-2?this.blockMetadata.Snow.id:t>57?this.blockMetadata.Stone.id:t>53?this.blockMetadata["Rocky Dirt"].id:this.blockMetadata.Dirt.id}}]),n}(le),Pe=function(){function e(t,n,i,a,s,h){o(this,e),this.baseBiome=void 0,this.biomesTotalFrequency=void 0,this.biomes=void 0,this.seed=void 0,this.blockMetadata=void 0,this.chunkSize=void 0,this.mostRecentlyAccessedPtForBiome=[0,0],this.mostRecentlyAccessedBiome=void 0,this.mostRecentlyAccessedModifierPt=[0,0],this.mostRecentlyAccessedModifier=void 0,this.stoneTypes=void 0,this.stonesTotalFrequency=void 0,this.seed=a,this.blockMetadata=h,this.chunkSize=s;var u={oreGenerator:i,cavesGenerator:n};this.baseBiome=new le(s,h,t,a,u);var c=new fe(s,h,t,a,u),l=new de(s,h,t,a,u),f=new pe(s,h,t,a,u),d=new ve(s,h,t,a,u),p=new me(s,h,t,a,u),v=new ye(s,h,t,a,u),g=new be(s,h,t,a,u),m=new Ce(s,h,t,a,u),y=new Se(s,h,t,a,u),b=new ke(s,h,t,a,u),w=new we(s,h,t,a,u),k=new xe(s,h,t,a,u),C=new Me(s,h,t,a,u),S=new _e(s,h,t,a,u),_=new ge(s,h,t,a,u);this.biomes=[{biome:c,frequency:35},{biome:l,frequency:1},{biome:f,frequency:4},{biome:d,frequency:76},{biome:_,frequency:4},{biome:p,frequency:20},{biome:g,frequency:6},{biome:w,frequency:6},{biome:v,frequency:28},{biome:b,frequency:4},{biome:m,frequency:14},{biome:y,frequency:2},{biome:k,frequency:32},{biome:C,frequency:16},{biome:S,frequency:4}],this.biomesTotalFrequency=0;var x,M=r(this.biomes);try{for(M.s();!(x=M.n()).done;){var P=x.value;this.biomesTotalFrequency+=P.frequency,P.biome.init()}}catch(E){M.e(E)}finally{M.f()}this.stoneTypes=[{stoneId:h.Stone.id,frequency:100},{stoneId:h.Andesite.id,frequency:4},{stoneId:h.Diorite.id,frequency:2},{stoneId:h.Granite.id,frequency:1}],this.stonesTotalFrequency=0;var R,T=r(this.stoneTypes);try{for(T.s();!(R=T.n()).done;){var A=R.value;this.stonesTotalFrequency+=A.frequency}}catch(E){T.e(E)}finally{T.f()}}return s(e,[{key:"_getBiomeForBiomePoint",value:function(e){if(this.mostRecentlyAccessedBiome&&e[0]===this.mostRecentlyAccessedPtForBiome[0]&&e[1]===this.mostRecentlyAccessedPtForBiome[1])return this.mostRecentlyAccessedBiome;for(var t=new N("".concat(e[0],"|").concat(e[1],"|").concat(this.seed)),n=Math.floor(t.next()*this.biomesTotalFrequency),i=0,r=0;i<=n;)i+=this.biomes[r].frequency,r++;var o={biome:this.biomes[r-1].biome,biomeId:r-1};return this.mostRecentlyAccessedBiome=o,this.mostRecentlyAccessedPtForBiome[0]=e[0],this.mostRecentlyAccessedPtForBiome[1]=e[1],o}},{key:"getBiomeModifiersForBiomePoint",value:function(e){if(this.mostRecentlyAccessedModifier&&e[0]===this.mostRecentlyAccessedModifierPt[0]&&e[1]===this.mostRecentlyAccessedModifierPt[1])return this.mostRecentlyAccessedModifier;for(var t=new N("".concat(e[0],"|").concat(e[1],"|").concat(this.seed,"Modifiers")),n=Math.floor(t.next()*this.stonesTotalFrequency),i=0,r=0;i<=n;)i+=this.stoneTypes[r].frequency,r++;var o={stoneTypeId:this.stoneTypes[r-1].stoneId};return this.mostRecentlyAccessedModifier=o,this.mostRecentlyAccessedModifierPt[0]=e[0],this.mostRecentlyAccessedModifierPt[1]=e[1],o}},{key:"getBiomeInfoForChunkFill",value:function(e,t,n){for(var i={biomeIds:new F(this.chunkSize,[e,t]),stoneTypeIds:new F(this.chunkSize,[e,t])},r=e;r<e+this.chunkSize;r++)for(var o=t;o<t+this.chunkSize;o++){var a=n.get(r,o)[0];i.biomeIds.set(r,o,a.biomeId),i.stoneTypeIds.set(r,o,a.biomeModifiers.stoneTypeId)}return i}},{key:"getBiomeFromId",value:function(e){return this.biomes[e].biome}}]),e}(),Re=function(){function e(t,n,i,r,a,s,h,u){o(this,e),this.seed=void 0,this.chunkSize=void 0,this.biomeSelector=void 0,this.cavesGenerator=void 0,this.treeGenerator=void 0,this.blockMetadata=void 0,this.oreGenerator=void 0,this.baseBiome=void 0,this.clayGenerator=void 0,this.seed=u,this.chunkSize=t,this.biomeSelector=n,this.cavesGenerator=i,this.treeGenerator=r,this.blockMetadata=a,this.oreGenerator=s,this.baseBiome=h,this.clayGenerator=new W(50,!1,!0,u,4,t,null,!0)}return s(e,[{key:"fillChunk",value:function(e,t,n,i,r,o,a,s,h){if(!(n+this.chunkSize<=w.bedrockLevel)){for(var u=-1e4,c=1e4,l=-1e4,f=1e4,d=!1,p=t;p<t+this.chunkSize;p++)for(var v=i;v<i+this.chunkSize;v++){u=Math.max(u,r.groundHeights.get(p,v)),c=Math.min(c,r.groundHeights.get(p,v));var g=r.waterHeights.get(p,v);g!==k&&(d=!0,l=Math.max(l,g),f=Math.min(f,g))}if(u>=n&&c<n+this.chunkSize)for(var m=t;m<t+this.chunkSize;m++)for(var y=i;y<i+this.chunkSize;y++){var b=h.biomeIds.get(m,y),C=this.biomeSelector.getBiomeFromId(b),S=r.groundHeights.get(m,y);S>=n&&S<n+this.chunkSize&&e.set(m-t,S-n,y-i,C.getTopsoilBlock(m,S,y))}if(u+1>=n&&c-4<n+this.chunkSize)for(var _=t;_<t+this.chunkSize;_++)for(var x=i;x<i+this.chunkSize;x++)for(var M=h.biomeIds.get(_,x),R=this.biomeSelector.getBiomeFromId(M),T=r.groundHeights.get(_,x),A=Math.min(T,n+this.chunkSize),E=Math.max(T-4,n);E<A;E++)e.set(_-t,E-n,x-i,R.getLowsoilBlockType(_,E,x,T));if(u-4>=n)for(var O=t;O<t+this.chunkSize;O++)for(var L=i;L<i+this.chunkSize;L++)for(var B=h.stoneTypeIds.get(O,L),D=r.groundHeights.get(O,L),I=Math.min(D-4,n+this.chunkSize),N=n;N<I;N++)e.set(O-t,N-n,L-i,B);if(u-4>=n)for(var F=t;F<t+this.chunkSize;F++)for(var j=i;j<i+this.chunkSize;j++){var z=r.groundHeights.get(F,j),H=s.get(F,j);this.oreGenerator.addOresToColumn(e,F,j,t,n,i,z-4,H)}if(u>=n&&this.cavesGenerator.addCavesToChunk(e,t,n,i,a),w.bedrockLevel>=n&&w.bedrockLevel<n+this.chunkSize)for(var q=t;q<t+this.chunkSize;q++)for(var U=i;U<i+this.chunkSize;U++)e.set(q-t,w.bedrockLevel-n,U-i,this.blockMetadata.Bedrock.id);if(u+this.baseBiome.maxFloraHeight>=n&&c+1<n+this.chunkSize)for(var G=t;G<t+this.chunkSize;G++)for(var W=i;W<i+this.chunkSize;W++){var Y=h.biomeIds.get(G,W),V=this.biomeSelector.getBiomeFromId(Y),K=V.maxFloraHeight,J=r.groundHeights.get(G,W);if(!(J>=n+this.chunkSize||J<n-K))if(r.waterHeights.get(G,W)===k)this.cavesGenerator.isCave(G,J,W,a)||V.floraGenerator.addBiomeFloraToColumn(e,t,i,G,n,W,J)}if(u+this.treeGenerator.maxTreeHeight>=n)for(var X=t;X<t+this.chunkSize;X++)for(var Z=n;Z<n+this.chunkSize;Z++)for(var $=i;$<i+this.chunkSize;$++){var Q=o.get(X,$);if(void 0!==Q){var ee=this.treeGenerator.getTreeBlock(X,Z,$,r.groundHeights,Q);ee&&e.set(X-t,Z-n,$-i,ee)}}if(d&&l>=n)for(var te=t;te<t+this.chunkSize;te++)for(var ne=i;ne<i+this.chunkSize;ne++){var ie=r.waterHeights.get(te,ne);if(ie!==k)for(var re=h.biomeIds.get(te,ne),oe=this.biomeSelector.getBiomeFromId(re),ae=r.groundHeights.get(te,ne),se=Math.min(ie+1,n+this.chunkSize),he=Math.max(ae+1,n);he<se;he++){var ue=he===ie?oe.topwaterBlockType:this.blockMetadata.Water.id;e.set(te-t,he-n,ne-i,ue)}}if(d&&u>=n&&c<n+this.chunkSize)for(var ce=t;ce<t+this.chunkSize;ce++)for(var le=i;le<i+this.chunkSize;le++){var fe=r.waterHeights.get(ce,le),de=r.groundHeights.get(ce,le);if(fe!==k&&de>=n&&de<n+this.chunkSize)if(fe===de)e.set(ce-t,de-n,le-i,this.blockMetadata.Sand.id);else if(P(this.clayGenerator.getClosestPoint(ce,le),ce,le)<100)e.set(ce-t,de-n,le-i,this.blockMetadata.Clay.id),de-1>=n&&e.set(ce-t,de-1-n,le-i,this.blockMetadata.Clay.id),de-2>=n&&e.set(ce-t,de-2-n,le-i,this.blockMetadata.Clay.id);else{var pe=h.biomeIds.get(ce,le),ve=this.biomeSelector.getBiomeFromId(pe);e.set(ce-t,de-n,le-i,ve.getLowsoilBlockType(ce,de,le,de))}}}}}]),e}(),Te=n(1075);function Ae(){return ue}var Ee,Oe,Le=function(){function e(t,n,i,a){o(this,e),this.chunkSize=void 0,this.biomePointGen=void 0,this.treeRadius=2,this.neededOutsideChunkHeightRadius=this.treeRadius,this.treeGenerator=void 0,this.seed=void 0,this.biomeOffsetSimplex=void 0,this.globalHeightmap=void 0,this.heightmapPerturb=void 0,this.cavesGenerator=void 0,this.biomeSelector=void 0,this.waterBodyGenerator=void 0,this.needOutsideWaterDist=15,this.mostRecentlyAccessedChunkColumnPos=[0,0],this.mostRecentlyAccessedChunkColumn=null,this.cachedChunkColumnInfos=void 0,this.chunkFiller=void 0,this.isServer=void 0,ue=a,this.seed=i,this.cachedChunkColumnInfos=new(G())({max:a?400:200,ttl:3e4,updateAgeOnGet:!0}),this.cavesGenerator=new Z(i,t,this.neededOutsideChunkHeightRadius);var s=new ne(n,i,t);this.biomeSelector=new Pe(this,this.cavesGenerator,s,i,t,n),this.treeGenerator=new $(this,this.cavesGenerator,t,i,n),this.chunkSize=t,this.biomePointGen=new W(150,!1,!0,i,3,t),this.biomeOffsetSimplex=new D([{amplitude:1,frequency:.2},{amplitude:5,frequency:1/70}],"".concat(i,"BiomeOffsetSimplex")),this.globalHeightmap=new D([{amplitude:11,frequency:1/4e3},{amplitude:4,frequency:.001}],"".concat(i,"GlobalHeightmapOffset")),this.heightmapPerturb=new D([{amplitude:1,frequency:1/14},{amplitude:5,frequency:1/65},{amplitude:20,frequency:.004}],"".concat(i,"HeightmapPerturb"));var h,u=0,c=r(this.heightmapPerturb.customOctaves);try{for(c.s();!(h=c.n()).done;){u+=h.value.amplitude}}catch(l){c.e(l)}finally{c.f()}this.waterBodyGenerator=new te(this,i,u,this.needOutsideWaterDist),this.chunkFiller=new Re(t,this.biomeSelector,this.cavesGenerator,this.treeGenerator,n,s,this.biomeSelector.baseBiome,i)}return s(e,[{key:"getChunk",value:function(e,t,n,i){try{this._getChunk(e,t,n,i);var r=Q.encode(e.data),o=String.fromCharCode.apply(null,r);return{hash:(new Te).update(o).digest("hex")}}catch(a){console.log(a.stack),console.error(a.stack)}}},{key:"_getChunk",value:function(e,t,n,i){var r=this.getInfoForChunkColumn(t,i),o=r.biomeInfos,a=r.heightmapVals,s=r.caveInfos,h=r.treeTrunksAroundPoints,u=r.chunkOres;this.chunkFiller.fillChunk(e,t,n,i,a,h,s,u,o)}},{key:"getInfoForChunkColumn",value:function(e,t){if(this.mostRecentlyAccessedChunkColumn&&this.mostRecentlyAccessedChunkColumnPos[0]===e&&this.mostRecentlyAccessedChunkColumnPos[1]===t)return this.mostRecentlyAccessedChunkColumn;var n="".concat(e,"|").concat(t),i=this.cachedChunkColumnInfos.get(n);if(i)return this.mostRecentlyAccessedChunkColumnPos[0]=e,this.mostRecentlyAccessedChunkColumnPos[1]=t,this.mostRecentlyAccessedChunkColumn=i,i;var r=this._getClosestBiomesForChunk(e,t),o=this.getHeightMapVals(e,t,r),a=this.cavesGenerator.getCaveInfoForChunk(e,t,o),s=this.treeGenerator._getTreeTrunksForBlocksInChunk(e,t,o,r,a),h=r.get(e+Math.floor(this.chunkSize/2),t+Math.floor(this.chunkSize/2))[0].biome.oreGenerator.getOreBlocksForChunk(e,t),u={biomeInfos:this.biomeSelector.getBiomeInfoForChunkFill(e,t,r),heightmapVals:o,caveInfos:a,treeTrunksAroundPoints:s,chunkOres:h};return this.mostRecentlyAccessedChunkColumnPos[0]=e,this.mostRecentlyAccessedChunkColumnPos[1]=t,this.mostRecentlyAccessedChunkColumn=u,this.cachedChunkColumnInfos.set(n,u),u}},{key:"_getClosestBiomesForChunk",value:function(e,t){for(var n=new z(this.chunkSize,[e,t],this.neededOutsideChunkHeightRadius),i=e-this.neededOutsideChunkHeightRadius;i<e+this.chunkSize+this.neededOutsideChunkHeightRadius;++i)for(var r=t-this.neededOutsideChunkHeightRadius;r<t+this.chunkSize+this.neededOutsideChunkHeightRadius;++r){var o=this.getClosestBiomes(i,r);n.set(i,r,o)}return n}},{key:"getClosestBiomes",value:function(e,t){for(var n=this._getBiomeXOffset(e,t),i=this._getBiomeZOffset(e,t),r=this.biomePointGen.getKClosestPointsWithWeights(e+n,t+i,60),o=[],a=0;a<r.length;a++){var s=r[a],h=this.biomeSelector._getBiomeForBiomePoint(s.pt),u=h.biome,c=h.biomeId,l={weight:s.weight,biome:u,biomeId:c,biomeModifiers:null};0===a&&(l.biomeModifiers=this.biomeSelector.getBiomeModifiersForBiomePoint(s.pt)),o.push(l)}return o}},{key:"_getBiome",value:function(e,t){var n=this._getBiomeXOffset(e,t),i=this._getBiomeZOffset(e,t),r=this.biomePointGen.getClosestPoint(e+n,t+i);return this.biomeSelector._getBiomeForBiomePoint(r)}},{key:"_getBiomeXOffset",value:function(e,t){return Math.floor(this.biomeOffsetSimplex.getOctaves(e,t))}},{key:"_getBiomeZOffset",value:function(e,t){return Math.floor(this.biomeOffsetSimplex.getOctaves(e+500,t+860))}},{key:"getHeightMapVals",value:function(e,t,n){for(var i={groundHeights:new F(this.chunkSize,[e,t],this.neededOutsideChunkHeightRadius),waterHeights:new F(this.chunkSize,[e,t],this.neededOutsideChunkHeightRadius),cavesAllowedBelowY:new F(this.chunkSize,[e,t],this.neededOutsideChunkHeightRadius)},r=e-this.neededOutsideChunkHeightRadius;r<e+this.chunkSize+this.neededOutsideChunkHeightRadius;++r)for(var o=t-this.neededOutsideChunkHeightRadius;o<t+this.chunkSize+this.neededOutsideChunkHeightRadius;++o){var a=n.get(r,o),s=Math.floor(this.heightmapPerturb.getOctaves(r,o)),h=Math.floor(this.heightmapPerturb.getOctaves(r+200,o+778)),u=this.getWithWaterHeightmapVal(r+s,o+h,a),c=u.groundHeight,l=u.waterHeight,f=u.cavesAllowedBelowY;i.groundHeights.set(r,o,c),i.waterHeights.set(r,o,l),i.cavesAllowedBelowY.set(r,o,f);var d=Math.min(Math.abs((r-300)%1e3),1e3-Math.abs((r-300)%1e3)),p=Math.min(Math.abs((o-300)%1e3),1e3-Math.abs((o-300)%1e3)),v=Math.max(Math.abs(r),Math.abs(o));(v<50||v>1e4&&Math.max(d,p)<50)&&i.cavesAllowedBelowY.set(r,o,c-15)}return i}},{key:"getWithWaterHeightmapVal",value:function(e,t,n){var i=this.getNoWaterHeightmapVal(e,t,n),r=this.waterBodyGenerator.getInfoNeededForWaterGen(e,t),o=r.distFromWater,a=r.waterRadius,s=r.waterHeight,h=r.waterbedHeight,u=r.isLake,c=0,l=k,f=1e4,d=a+this.needOutsideWaterDist;if(o<=d){var p=a+4,v=s+2;if(o<=a){var g=o/a;u?(g*=g*g,c=Math.floor(h+(s-h)*g-2)):(g*=g,c=Math.floor(h+(s-h)*g)),l=s}else if(o<=p){var m=(o-a)/(p-a);c=s+Math.ceil((v-s)*m)}else{var y=(o-p)/(d-p);c=v+Math.ceil((i-v)*y)}f=c-15}else c=i;return{groundHeight:c,waterHeight:l,cavesAllowedBelowY:f}}},{key:"getNoWaterHeightmapVal",value:function(e,t,n){var i,o=e,a=t,s=0,h=r(n);try{for(h.s();!(i=h.n()).done;){var u=i.value,c=u.biome,l=u.weight;s+=c.getHeightmapVal(o,a)*l}}catch(d){h.e(d)}finally{h.f()}var f=this.globalHeightmap.getOctaves(o,a);return Math.floor(s)+Math.floor(f)}}]),e}(),Be=n(7786),De={};self.onmessage=function(e){var t=e.data;switch(t.type){case"workerInit":Ee=t.chunkSize,Oe=t.blockMetadata;break;case"createSeed":De[t.seed]=new Le(Ee,Oe,t.seed,!1);break;case"deleteSeed":delete De[t.seed];break;case"chunk":var n=t.id,r=t.array;r=Be(new Uint16Array(r.data.buffer),[Ee,Ee,Ee]);var o=i(n.split("|"),4),a=o[0],s=o[1],h=o[2],u=o[3];a=parseInt(a),s=parseInt(s),h=parseInt(h);var c=De[u].getChunk(r,a,s,h),l=[r.data.buffer];self.postMessage({id:n,array:r,metadata:c},l);break;default:console.error("Unrecognised data.type")}}}()}();